<?xml version='1.0' encoding='UTF-8'?>
<template role="olt" version="2.0" type="role">
<!-- MIGRADO A ROLE QT -->
	<parameters>

		<!-- ENDPOINT RESPONSE PARAMS -->
		<!-- Parametros de Obtener_Informacion_QT -->
		<parameter id="par_oiqt_http_code" type="value">
			<contents>
				<value type="infosource_value" infosource="qt" endpointid="olt_OIQT">_httpCode</value>
			</contents>
		</parameter>

		<parameter id="par_oiqt_err_code">
			<contents>
				<value type="infosource_value" infosource="qt" endpointid="olt_OIQT">_errCode</value>
			</contents>
		</parameter>

		<parameter id="par_oiqt_err_desc">
			<contents>
				<value type="infosource_value" infosource="qt" endpointid="olt_OIQT">_errDesc</value>
			</contents>
		</parameter>

		<!-- Parametros de act_Obtener_Informacion_QT -->
		<parameter id="par_act_oiqt_http_code" type="value">
			<contents>
				<value type="infosource_value" infosource="qt" endpointid="act_OIQT">_httpCode</value>
			</contents>
		</parameter>

		<parameter id="par_act_oiqt_err_code">
			<contents>
				<value type="infosource_value" infosource="qt" endpointid="act_OIQT">_errCode</value>
			</contents>
		</parameter>

		<parameter id="par_act_oiqt_err_desc">
			<contents>
				<value type="infosource_value" infosource="qt" endpointid="act_OIQT">_errDesc</value>
			</contents>
		</parameter>


		<!-- Parametros de ... -->

		<!-- OIQT - Tabla base -->
		<parameter id="par_oiqt_base_table" type="table">
			<contents>
				<value type="infosource_table" infosource="qt" endpointid="olt_OIQT">parts.service.resource.0.id.</value>
			</contents>
			<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">schemeName;value</value></arg></args>
				</operation>
				<operation type="first_row">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="order_lex">
					<args><arg><value type="value">asc</value></arg></args>
				</operation>
				<operation type="add_header">
					<args><arg><value type="value">key;value</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_relatedservice_table" type="table">
			<contents>
				<value type="infosource_table" infosource="qt" endpointid="olt_OIQT">parts.service.relatedService.0.id.</value>
			</contents>
		</parameter>

		<parameter id="par_characteristicsvalue_table" type="table">
			<contents>
				<value type="infosource_table" infosource="qt" endpointid="olt_OIQT">specification.characteristicsValue.</value>
			</contents>
		</parameter>

		<parameter id="par_dslam_sector" type="value" name="DSLAM/OLT/SECTOR">
			<contents>
				<value type="parameter">par_relatedservice_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">DSLAMOLTSector</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">3</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_dslam_card" type="value" name="DSLAM Card">
			<contents>
				<value type="parameter">par_relatedservice_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">DSLAMCard</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">3</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_dslam_card_trimmed" type="value">
			<contents>
				<value type="parameter">par_dslam_card</value>
			</contents>
			<sequence>
				<operation type="remove_pattern">
					<args><arg><value type="value">DSLAM+.+?(?=_)+_</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_province" type="value" name="Provincia">
			<contents>
				<value type="parameter">par_characteristicsvalue_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">Province</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">3</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_sbc_primary_ip" type="value" name="SBC Primario –IP">
			<contents>
				<value type="parameter">par_characteristicsvalue_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">SBCPrimaryIP</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">3</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_table" type="table">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_contain">
					<args><arg><value type="value">Last</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
				<operation type="column_index">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_not_equal">
					<args><arg><value type="value">-1</value></arg></args>
				</operation>
				<operation type="column_not_equal">
					<args><arg><value type="value">-2</value></arg></args>
				</operation>
				<operation type="column_not_equal">
					<args><arg><value type="value">-3</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_dates_table" type="table">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_contain">
					<args><arg><value type="value">Last</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
				<operation type="column_index">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_not_equal">
					<args><arg><value type="value">-1</value></arg></args>
				</operation>
				<operation type="column_not_equal">
					<args><arg><value type="value">-2</value></arg></args>
				</operation>
				<operation type="column_not_equal">
					<args><arg><value type="value">-3</value></arg></args>
				</operation>
				<operation type="remove_pattern">
					<args><arg><value type="value">(\.+.*)</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_cpe" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">CPELastCollectionProcessed</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_ftth" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">FTTHLastCollectionTime</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_hfc" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">HFCLastCollectionTime</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_ipsession" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">IPSessionLastCollectionTime</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_wlanwifiexpert" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERTLastDiagnosticsSuccessTime</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_cpe_date" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_dates_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">CPELastCollectionProcessed</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>
		<parameter id="par_oiqt_lasttime_cpe_date_ms" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_cpe_date</value>
			</contents>
			<sequence>
				<operation type="parse_date">
					<args><arg><value type="value">yyyy-MM-dd hh:mm:ss</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_ftth_date" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_dates_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">FTTHLastCollectionTime</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>
		<parameter id="par_oiqt_lasttime_ftth_date_ms" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_ftth_date</value>
			</contents>
			<sequence>
				<operation type="parse_date">
					<args><arg><value type="value">yyyy-MM-dd hh:mm:ss</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_hfc_date" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_dates_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">HFCLastCollectionTime</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>
		<parameter id="par_oiqt_lasttime_hfc_date_ms" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_hfc_date</value>
			</contents>
			<sequence>
				<operation type="parse_date">
					<args><arg><value type="value">yyyy-MM-dd hh:mm:ss</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_ipsession_date" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_dates_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">IPSessionLastCollectionTime</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>
		<parameter id="par_oiqt_lasttime_ipsession_date_ms" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_ipsession_date</value>
			</contents>
			<sequence>
				<operation type="parse_date">
					<args><arg><value type="value">yyyy-MM-dd hh:mm:ss</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_lasttime_wlanwifiexpert_date" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_dates_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERTLastDiagnosticsSuccessTime</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>
		<parameter id="par_oiqt_lasttime_wlanwifiexpert_date_ms" type="value">
			<contents>
				<value type="parameter">par_oiqt_lasttime_wlanwifiexpert_date</value>
			</contents>
			<sequence>
				<operation type="parse_date">
					<args><arg><value type="value">yyyy-MM-dd hh:mm:ss</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_now_less_cpe_date_ms">
			<contents>
				<value type="parameter">par_timestamp_now</value>
			</contents>
			<sequence>
				<operation type="subtract_value">
					<args><arg><value type="parameter">par_oiqt_lasttime_cpe_date_ms</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_now_less_ftth_date_ms">
			<contents>
				<value type="parameter">par_timestamp_now</value>
			</contents>
			<sequence>
				<operation type="subtract_value">
					<args><arg><value type="parameter">par_oiqt_lasttime_ftth_date_ms</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_now_less_hfc_date_ms">
			<contents>
				<value type="parameter">par_timestamp_now</value>
			</contents>
			<sequence>
				<operation type="subtract_value">
					<args><arg><value type="parameter">par_oiqt_lasttime_hfc_date_ms</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_now_less_ipsession_date_ms">
			<contents>
				<value type="parameter">par_timestamp_now</value>
			</contents>
			<sequence>
				<operation type="subtract_value">
					<args><arg><value type="parameter">par_oiqt_lasttime_ipsession_date_ms</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_now_less_wlanwifiexpert_date_ms">
			<contents>
				<value type="parameter">par_timestamp_now</value>
			</contents>
			<sequence>
				<operation type="subtract_value">
					<args><arg><value type="parameter">par_oiqt_lasttime_wlanwifiexpert_date_ms</value></arg></args>
				</operation>
			</sequence>
		</parameter>


		<!-- Servicio Inet - Calidad-Cortes -->
		<parameter id="par_oiqt_issueipsession24horas" name="[Issue] IP Session - 24 horas">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">IssueIPSession24horas</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_waneth_statuschanges24horas" name="[WAN ETHERNET] Status Changes  - 24 horas">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WANETHERNETStatusChanges24horas</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<!-- Servicio Inet - Calidad-WiFi -->
		<parameter id="par_oiqt_wlan_interfacescheduledshutdown" name="[Wifi] Caidas interfaz wifi - 24 horas">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANInterfaceScheduledShutdown</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_configurationwififailed" name="[Wifi] WifiFailed">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANConfigurationWifiFailed</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<!-- Servicio Inet - WES -->
		<parameter id="par_oiqt_wlan_wifiexpert_lastdiagnosticssuccesstime" name="[Wifi - Expert] Last Diagnostics Success Time">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERTLastDiagnosticsSuccessTime</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_24systemstatus" name="[Wifi - Expert] 2.4G System Status">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT24SystemStatus</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_5systemstatus" name="[Wifi - Expert] 5G System Status">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT5SystemStatus</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_24interferencerate" name="[Wifi - Expert] 2.4G Interference rate">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT24Interferencerate</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_24optimumchannel" name="[Wifi - Expert] 2.4G Optimum channel">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT24Optimumchannel</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_24improvementratio" name="[Wifi - Expert] 2.4G Improvement ratio">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT24Improvementratio</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_5optimumchannel" name="[Wifi - Expert] 5G Optimum channel">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT5Optimumchannel</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_5improvementratio" name="[Wifi - Expert] 5G Improvement ratio">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT5Improvementratio</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_24interferenceissue" name="Issue - WLAN - WIFI EXPERT – 2.4 – Interference Issue">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">IssueWLANWIFIEXPERT_24_InterferenceIssue</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_5interferenceissue" name="Issue - WLAN - WIFI EXPERT – 5 – Interference Issue">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">IssueWLANWIFIEXPERT_5_InterferenceIssue</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_24statschannel" name="[Wifi] 2.4 Channel">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLAN24StatsChannel</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_wifiexpert_24expectedimprovement" name="[Wifi - Expert] – 2.4 Expected Improvement">
			<contents>
				<value type="parameter">par_oiqt_wlan_wifiexpert_24interferencerate</value>
			</contents>
			<sequence>
				<operation type="multiply_value">
					<args><arg><value type="value">100</value></arg></args>
				</operation>
				<operation type="divide_value">
					<args><arg><value type="parameter">par_oiqt_wlan_wifiexpert_24improvementratio</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_oiqt_wlan_50statschannel" name="[Wifi] 5G Channel">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLAN50StatsChannel</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<!-- Servicio Inet - CPEs -->
		<parameter id="par_oiqt_numberofcpequickrestart24horas" name="[CPE] Number of CPE QuickRestart  - 24 horas">
			<contents>
				<value type="parameter">par_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">NumberofCPEQuickRestart24horas</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<!-- PARAMETROS DE act_OIQT -->
		<!-- act_OIQT - Tabla base -->
		<parameter id="par_act_oiqt_base_table" type="table">
			<contents>
				<value type="infosource_table" infosource="qt" endpointid="act_OIQT">parts.service.resource.0.id.</value>
			</contents>
			<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">schemeName;value</value></arg></args>
				</operation>
				<operation type="first_row">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="order_lex">
					<args><arg><value type="value">asc</value></arg></args>
				</operation>
				<operation type="add_header">
					<args><arg><value type="value">key;value</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_act_oiqt_wlan_wifiexpert_24systemstatus"><!-- name="[Wifi - Expert] 2.4G System Status"-->
			<contents>
				<value type="parameter">par_act_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT24SystemStatus</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>

		<parameter id="par_act_oiqt_wlan_wifiexpert_5systemstatus"><!--  name="[Wifi - Expert] 5G System Status"-->
			<contents>
				<value type="parameter">par_act_oiqt_base_table</value>
			</contents>
			<sequence>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">WLANWIFIEXPERT5SystemStatus</value></arg></args>
				</operation>
				<operation type="column_selector">
					<args><arg><value type="value">2</value></arg></args>
				</operation>
			</sequence>
		</parameter>




	</parameters>


	<checks>

		<!-- CHECKS DE RESPUESTA DE ENDPOINTS -->
		<!-- Checks de respuesta de Obtener_Informacion_QT -->
		<check id="chk_oiqt_err_code_ok">
			<parameter>par_oiqt_err_code</parameter>
			<result>
				<expr type="and">
					<operation type="greater_or_equal">
						<args><arg><value type="value">200</value></arg></args>
					</operation>
					<operation type="lower">
						<args><arg><value type="value">300</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!-- CHECKS DE Obtener_Informacion_QT -->

		<!-- Checks para el control de caducidad de los datos -->

		<!-- Existencia de datos (fechas) -->
		<check id="chk_oiqt_lasttime_cpe_neq_unknown">
			<parameter>par_oiqt_lasttime_cpe</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">unknown</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_lasttime_ftth_neq_unknown">
			<parameter>par_oiqt_lasttime_ftth</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">unknown</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_lasttime_hfc_neq_unknown">
			<parameter>par_oiqt_lasttime_hfc</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">unknown</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_lasttime_ipsession_neq_unknown">
			<parameter>par_oiqt_lasttime_ipsession</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">unknown</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_lasttime_wlanwifiexpert_neq_unknown">
			<parameter>par_oiqt_lasttime_wlanwifiexpert</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">unknown</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!-- Comprobación de datos recientes -->
		<check id="chk_now_less_cpe_date_ms_lt_24h">
			<parameter>par_now_less_cpe_date_ms</parameter>
			<result>
				<expr type="and">
					<operation type="lower">
						<args><arg><value type="value">86400000</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_now_less_ftth_date_ms_lt_24h">
			<parameter>par_now_less_ftth_date_ms</parameter>
			<result>
				<expr type="and">
					<operation type="lower">
						<args><arg><value type="value">86400000</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_now_less_hfc_date_ms_lt_24h">
			<parameter>par_now_less_hfc_date_ms</parameter>
			<result>
				<expr type="and">
					<operation type="lower">
						<args><arg><value type="value">86400000</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_now_less_ipsession_date_ms_lt_24h">
			<parameter>par_now_less_ipsession_date_ms</parameter>
			<result>
				<expr type="and">
					<operation type="lower">
						<args><arg><value type="value">86400000</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_now_less_wlanwifiexpert_date_ms_lt_2h">
			<parameter>par_now_less_wlanwifiexpert_date_ms</parameter>
			<result>
				<expr type="and">
					<operation type="lower">
						<args><arg><value type="value">7200000</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!-- Checks de Servicio Inet - Calidad-Cortes -->
		<check id="chk_oiqt_issueipsession24horas_eq1">
			<parameter>par_oiqt_issueipsession24horas</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_waneth_statuschanges24horas_gt2">
			<parameter>par_oiqt_waneth_statuschanges24horas</parameter>
			<result>
				<expr type="and">
					<operation type="greater">
						<args><arg><value type="value">2</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!-- Checks de Servicio Inet - Calidad-Wifi -->
		<check id="chk_oiqt_wlan_interfacescheduledshutdown_gt2">
			<parameter>par_oiqt_wlan_interfacescheduledshutdown</parameter>
			<result>
				<expr type="and">
					<operation type="greater">
						<args><arg><value type="value">2</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_interfacescheduledshutdown_leq2">
			<parameter>par_oiqt_wlan_interfacescheduledshutdown</parameter>
			<result>
				<expr type="and">
					<operation type="lower_or_equal">
						<args><arg><value type="value">2</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_configurationwififailed_eq1">
			<parameter>par_oiqt_wlan_configurationwififailed</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_configurationwififailed_neq1">
			<parameter>par_oiqt_wlan_configurationwififailed</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!-- Checks de Servicio Inet - WES -->

		<!--(pendiente saber cómo viene el campo. Actualmente "-1")
        par_oiqt_wlan_wifiexpert_lastdiagnosticssuccesstime -->

		<check id="chk_oiqt_wlan_wifiexpert_24systemstatus_neq1">
			<parameter>par_oiqt_wlan_wifiexpert_24systemstatus</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>
		<!-- Hasta que se sepa si son más de dos valores, se separan los checks en vez de negar uno de ellos -->
		<check id="chk_oiqt_wlan_wifiexpert_24systemstatus_eq1">
			<parameter>par_oiqt_wlan_wifiexpert_24systemstatus</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_wifiexpert_5systemstatus_neq1">
			<parameter>par_oiqt_wlan_wifiexpert_5systemstatus</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>
		<!-- Hasta que se sepa si son más de dos valores, se separan los checks en vez de negar uno de ellos -->
		<check id="chk_oiqt_wlan_wifiexpert_5systemstatus_eq1">
			<parameter>par_oiqt_wlan_wifiexpert_5systemstatus</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!--(pendiente saber validación)
        par_oiqt_wlan_wifiexpert_lastdiagnosticssuccesstime -->

		<check id="chk_oiqt_wlan_24statschannel_neq_24optimumchannel">
			<parameter>par_oiqt_wlan_24statschannel</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="parameter">par_oiqt_wlan_wifiexpert_24optimumchannel</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_24statschannel_eq_24optimumchannel">
			<parameter>par_oiqt_wlan_24statschannel</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="parameter">par_oiqt_wlan_wifiexpert_24optimumchannel</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_50statschannel_neq_5optimumchannel">
			<parameter>par_oiqt_wlan_50statschannel</parameter>
			<result>
				<expr type="and">
					<operation type="not_equal">
						<args><arg><value type="parameter">par_oiqt_wlan_wifiexpert_5optimumchannel</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_oiqt_wlan_50statschannel_eq_5optimumchannel">
			<parameter>par_oiqt_wlan_50statschannel</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="parameter">par_oiqt_wlan_wifiexpert_5optimumchannel</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<!--par_oiqt_wlan_wifiexpert_5optimumchannel
        par_oiqt_wlan_wifiexpert_5improvementratio
        par_oiqt_wlan_wifiexpert_24interferenceissue
        par_oiqt_wlan_wifiexpert_5interferenceissue
        par_oiqt_numberofcpequickrestart24horas-->

		<!-- CHECKS DE act_Obtener_Informacion_QT -->
		<check id="chk_act_oiqt_wlan_wifiexpert_24systemstatus_eq1">
			<parameter>par_act_oiqt_wlan_wifiexpert_24systemstatus</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

		<check id="chk_act_oiqt_wlan_wifiexpert_5systemstatus_eq1">
			<parameter>par_act_oiqt_wlan_wifiexpert_5systemstatus</parameter>
			<result>
				<expr type="and">
					<operation type="equal">
						<args><arg><value type="value">1</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>

	</checks>

	<tests>
		<!-- TEST TEMPLATE -->
		<test id="tst_template">
			<expr type="and" result="true"/>
		</test>

		<!-- TESTS DE ENDPOINTS -->
		<!-- TEST DE OIQT -->
		<test id="tst_endpoint_oiqt_isok">
			<expr type="and">
				<reference type="check" id="chk_oiqt_err_code_ok"/>
				<reference type="check" id="chk_oiqt_http_code_ok"/>
			</expr>
		</test>

		<!-- TEST DE act_OIQT -->
		<test id="tst_endpoint_act_oiqt_isok">
			<expr type="and">
				<reference type="check" id="chk_act_oiqt_err_code_ok"/>
				<reference type="check" id="chk_act_oiqt_http_code_ok"/>
			</expr>
		</test>

		<!-- TESTS de Obtener_informacion_QT -->

		<!-- Tests para evaluar la validez de los datos -->
		<test id="tst_oiqt_cpe_info_isvalid">
			<expr type="and">
				<reference type="test" id="tst_endpoint_oiqt_isok"/>
				<reference type="check" id="chk_oiqt_lasttime_cpe_neq_unknown"/>
				<reference type="check" id="chk_now_less_cpe_date_ms_lt_24h"/>
			</expr>
		</test>

		<test id="tst_oiqt_ftth_info_isvalid">
			<expr type="and">
				<reference type="check" id="chk_oiqt_lasttime_ftth_neq_unknown"/>
				<reference type="check" id="chk_now_less_ftth_date_ms_lt_24h"/>
			</expr>
		</test>

		<test id="tst_oiqt_hfc_info_isvalid">
			<expr type="and">
				<reference type="check" id="chk_oiqt_lasttime_hfc_neq_unknown"/>
				<reference type="check" id="chk_now_less_hfc_date_ms_lt_24h"/>
			</expr>
		</test>

		<test id="tst_oiqt_ipsession_info_isvalid">
			<expr type="and">
				<reference type="check" id="chk_oiqt_lasttime_ipsession_neq_unknown"/>
				<reference type="check" id="chk_now_less_ipsession_date_ms_lt_24h"/>
			</expr>
		</test>

		<test id="tst_oiqt_wlanwifiexpert_info_isvalid">
			<expr type="and">
				<reference type="check" id="chk_oiqt_lasttime_wlanwifiexpert_neq_unknown"/>
				<reference type="check" id="chk_now_less_wlanwifiexpert_date_ms_lt_2h"/>
			</expr>
		</test>

		<!-- Otros tests -->

		<test id="tst_wlan_wifiexpert_24systemstatus_calidad_baja_canal_no_optimizado">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_wifiexpert_24systemstatus_eq1"/>
				<reference type="check" id="chk_oiqt_wlan_24statschannel_neq_24optimumchannel"/>
			</expr>
		</test>

		<test id="tst_wlan_wifiexpert_24systemstatus_calidad_baja_canal_ya_optimizado">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_wifiexpert_24systemstatus_eq1"/>
				<reference type="check" id="chk_oiqt_wlan_24statschannel_eq_24optimumchannel"/>
			</expr>
		</test>

		<test id="tst_wlan_wifiexpert_5systemstatus_calidad_baja_canal_no_optimizado">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_wifiexpert_5systemstatus_eq1"/>
				<reference type="check" id="chk_oiqt_wlan_50statschannel_neq_5optimumchannel"/>
			</expr>
		</test>

		<test id="tst_wlan_wifiexpert_5systemstatus_calidad_baja_canal_ya_optimizado">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_wifiexpert_5systemstatus_eq1"/>
				<reference type="check" id="chk_oiqt_wlan_50statschannel_eq_5optimumchannel"/>
			</expr>
		</test>

		<test id="tst_wifi_calidad_baja_canal_no_optimizado">
			<expr type="or">
				<reference type="test" id="tst_wlan_wifiexpert_24systemstatus_calidad_baja_canal_no_optimizado"/>
				<reference type="test" id="tst_wlan_wifiexpert_5systemstatus_calidad_baja_canal_no_optimizado"/>
			</expr>
		</test>

		<test id="tst_wifi_calidad_baja_canal_ya_optimizado">
			<expr type="or">
				<reference type="test" id="tst_wlan_wifiexpert_24systemstatus_calidad_baja_canal_ya_optimizado"/>
				<reference type="test" id="tst_wlan_wifiexpert_5systemstatus_calidad_baja_canal_ya_optimizado"/>
			</expr>
		</test>

		<test id="tst_wifi_failerror_ko">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_configurationwififailed_eq1"/>
			</expr>
		</test>

		<test id="tst_wifi_failerror_ok">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_configurationwififailed_neq1"/>
			</expr>
		</test>

		<test id="tst_wifi_caida_interfaz_qt">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_interfacescheduledshutdown_gt2"/>
			</expr>
		</test>

		<test id="tst_wifi_caida_interfaz_qt_ok">
			<expr type="and">
				<reference type="check" id="chk_oiqt_wlan_interfacescheduledshutdown_leq2"/>
			</expr>
		</test>

		<test id="tst_wifi_calidad_no_baja">
			<expr type="or">
				<reference type="check" id="chk_oiqt_wlan_wifiexpert_24systemstatus_eq1"/>
				<reference type="check" id="chk_oiqt_wlan_wifiexpert_5systemstatus_eq1"/>
			</expr>
		</test>

		<!-- TESTS de act_Obtener_informacion_QT -->
		<test id="tst_act_wifi_calidad_no_baja">
			<expr type="or">
				<reference type="check" id="chk_act_oiqt_wlan_wifiexpert_24systemstatus_eq1"/>
				<reference type="check" id="chk_act_oiqt_wlan_wifiexpert_5systemstatus_eq1"/>
			</expr>
		</test>

	</tests>

	<!--  NO MIGRADO NO PARECE TENER SENTIDO: REVISAR

    <actions>
        <action id="act_Obtener_Informacion_QT" type="button">
            <texts>
                <text type="detail">Actualización del Firmware del router</text>
                <text type="warning">Va a actualizar el Firmware del router. ¿Desea continuar?</text>
                <text type="error">No se ha podido actualizar el Firmware del router</text>
            </texts>
            <sequence>
                <operation type="command">
                    <args><arg><value type="value">act_Obtener_Informacion_QT</value></arg></args>
                </operation>
            </sequence>
            <postmessages>
                <message id="msg_act_oiqt_ok" severity="info">
                    <text>texto</text>
                    <requirement>
                        <reference type="test" id="tst_endpoint_fu_isok"/>
                    </requirement>
                </message>
                <message id="msg_fr_ko" severity="error">
                    <text>texto</text>
                    <requirement>
                        <reference type="test" id="tst_endpoint_fr_isok" inverse="true"/>
                    </requirement>
                </message>
            </postmessages>
        </action>
    </actions>

-->

</template>
