<?xml version='1.0' encoding='UTF-8'?>
<template role="one_net" type="role" version="1.0">


  <!-- ############################################################################################## -->
  <!-- Version 1.0                                                                                    -->
  <!--  - Version de partida                                                                          -->
  <!-- ############################################################################################## -->

  <parameters>  
    <!-- Respuestas de llamadas -->

    <parameter id="par_get_element_msisdn" type="table">
      <contents>
        <value type="infosource_table" infosource="one_net" endpointid="get_element_msisdn">0.parts.service.</value>
      </contents>  
    </parameter>

    <parameter id="par_get_element_vpn" type="table">
      <contents>
        <value type="infosource_table" infosource="one_net" endpointid="get_element_vpn">0.parts.service.resource.</value>
      </contents>  
    </parameter>

    <!-- Parameters HTTPCODE y ERRCODE -->

    <parameter id="par_get_element_msisdn_http_code" type="value">
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="get_element_msisdn">_httpCode</value> 
      </contents> 
    </parameter>
    
    <parameter id="par_get_element_msisdn_err_code" type="value">
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="get_element_msisdn">_errCode</value> 
      </contents> 
    </parameter>

    <parameter id="par_get_element_vpn_http_code" type="value">
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="get_element_vpn">_httpCode</value> 
      </contents> 
    </parameter>
    
    <parameter id="par_get_element_vpn_err_code" type="value">
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="get_element_vpn">_errCode</value> 
      </contents> 
    </parameter>

    <parameter id="par_update_by_msisdn_http_code" type="value">
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="update_by_msisdn">_httpCode</value> 
      </contents> 
    </parameter>
    
    <parameter id="par_update_by_msisdn_err_code" type="value">
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="update_by_msisdn">_errCode</value> 
      </contents> 
    </parameter>

    <!-- Parametros de obtención de datos en consultas -->

    <parameter id="par_gemsisdn_extension_bloqueada" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">block_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_action_id" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">actionId</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_action_id_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_action_id</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_addnumber" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">addNumber</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="unique_rows"/>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_addnumber_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_addnumber</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_addnumber_cli_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_index">
          <args><arg><value type="value">1</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">addnumber_cli_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_addnumber_cli_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_addnumber_cli_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_addnumber_cli_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_addnumber_cli_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_adp_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">adp_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_cli_display_type" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">cliDisplayType</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_cli_display_type_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_cli_display_type</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_display_name" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">displayName</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_display_name_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_display_name</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_geo_number" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">geoNumber</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_group_id" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">groupID</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_group_id_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_group_id</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_group_name" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">groupName</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_ims_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">ims_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_ims_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_ims_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_ims_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_ims_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_imsi" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">imsi</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_language_code" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">languageCode</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_language_code_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_language_code</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_msisdn" type="value">
      <contents>
        <value type="infosource_table" infosource="one_net" endpointid="get_element_msisdn">0.id.0.value</value>
      </contents>
      <sequence>
        <operation type="column_not_empty"/>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_nat_ext_id" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">natExtId</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_nat_ext_type_id" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">natExtTypeId</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <!-- DCO20240117 - Diagnosticos VoLTE - VBTS_Schaman_015 - INICIO -->
    <parameter id="par_gemsisdn_nat_ext_type_id_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_nat_ext_type_id</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">^14$@to@Activado</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">\d+@to@Desactivado</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    <!-- DCO20240117 - Diagnosticos VoLTE - VBTS_Schaman_015 - FIN -->

    <parameter id="par_one_net_volte_si" type="value">
      <contents>
        <value type="value">Si</value>
      </contents>
    </parameter>
    
    <parameter id="par_one_net_volte_no" type="value">
      <contents>
        <value type="value">No</value>
      </contents>
    </parameter>

    <parameter id="par_gemsisdn_nat_ext_type_id_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_nat_ext_type_id</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_nomadic_number" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">nomadicNumber</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_nomadic_number_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_nomadic_number</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_nomadic_cli_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">nomadic_cli_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_paccount_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">paccount_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_paccount_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_paccount_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_paccount_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_paccount_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_pms_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">pms_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_pms_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_pms_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_pms_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_pms_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_prov_status" type="value">
      <contents>
        <value type="infosource_table" infosource="one_net" endpointid="get_element_msisdn">0.status</value>
      </contents>
      <sequence>
        <operation type="column_not_empty"/>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_nat_sec_group_id" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">secGroupId</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_nat_sec_group_id_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_nat_sec_group_id</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_sec_group_name" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">secGroupName</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_sec_short_number" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">secShortNumber</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_sec_short_number_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_sec_short_number</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_sip_address" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">serviceSpecification.characteristicsValue.characteristicName;serviceSpecification.characteristicsValue.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">sipAddress</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_sms_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">sms_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_sms_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_sms_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_sms_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_sms_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_srv_ics_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">srvICS_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_srv_ics_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_srv_ics_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_srv_ics_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_srv_ics_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_vcom_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">vcom_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_vpn_id" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.id.schemeName;resource.id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">vpnId</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gemsisdn_onenet_shortnumber" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="column_index">
          <args><arg><value type="value">7</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">shortNumber</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">8</value></arg></args>
        </operation>
        <operation type="column_index">
          <args><arg><value type="value">1</value></arg></args>
        </operation>
        <operation type="unique_rows"/>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_onenet_shortnumber_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_onenet_shortnumber</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_result_ok" type="value">
      <contents>
        <value type="value">OK</value>
      </contents>
    </parameter>

    <parameter id="par_gemsisdn_result_ko" type="value">
      <contents>
        <value type="value">KO</value>
      </contents>
    </parameter>

    <parameter id="par_gevpn_vpn_bloqueada" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_index">
          <args><arg><value type="value">1</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">block_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gevpn_cli_display_type" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">cliDisplayType</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_def_unique_prefix" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">defUniquePrefix</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_escape_code" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">escapeCode</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_ext_length" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">extLength</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_force_one_net_f" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">forceOnNet_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_global_acc_id" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">id.schemeName;id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">globalAccID</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_global_pnp_f" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">globalPNP_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_group_code_length" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">groupCodeLength</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_language_code" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">languageCode</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_private_call_prefix" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">privateCallPrefix</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_prov_status" type="value">
      <contents>
        <value type="infosource_table" infosource="one_net" endpointid="get_element_vpn">0.status</value>
      </contents>  
      <sequence>
        <operation type="column_not_empty"/>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_reserved_acc_id" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">reservedAccID</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_var_length_f" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">category.listName;category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">varLength_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_vpn_description" type="value">
      <contents>
        <value type="infosource_table" infosource="one_net" endpointid="get_element_vpn">0.desc</value>
      </contents>  
      <sequence>
        <operation type="column_not_empty"/>
      </sequence>
    </parameter>
    
    <parameter id="par_gevpn_vpnid" type="value">
      <contents>
        <value type="parameter">par_get_element_vpn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">id.schemeName;id.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">vpnId</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_selective_clir_f" type="value">
      <contents>
        <value type="parameter">par_get_element_msisdn</value>
      </contents>
      <sequence>
        <operation type="header_selector">
          <args><arg><value type="value">resource.category.listName;resource.category.value</value></arg></args>
        </operation>
        <operation type="column_equal">
          <args><arg><value type="value">selectiveCLIR_f</value></arg></args>
        </operation>
        <operation type="column_selector">
          <args><arg><value type="value">2</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_selective_clir_f_techview" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_selective_clir_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">true@to@Si</value></arg></args>
        </operation>
        <operation type="replace_pattern">
          <args><arg><value type="value">false@to@No</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gemsisdn_selective_clir_f_action_parameter" type="value">
      <contents>
        <value type="parameter">par_gemsisdn_selective_clir_f</value>
      </contents>
      <sequence>
        <operation type="replace_pattern">
          <args><arg><value type="value">unknown@to@</value></arg></args>
        </operation>
      </sequence>
    </parameter>

    <parameter id="par_gevpn_result_ok" type="value">
      <contents>
        <value type="value">OK</value>
      </contents>
    </parameter>

    <parameter id="par_gevpn_result_ko" type="value">
      <contents>
        <value type="value">KO</value>
      </contents>
    </parameter>

    <parameter id="par_update_by_msisdn_error_shortnumber" type="value"><!-- DBC20220826 - Se cambia el parámetro hyp-028 (Hypercare) -->
      <contents>
        <value type="infosource_value" infosource="one_net" endpointid="update_by_msisdn">description.0.value</value> 
      </contents> 
    </parameter>

    <!-- DCO20230606 - Movil Partis - INICIO -->
    <parameter id="par_imsi_front" type="value">
      <contents>
        <value type="parameter" role="front">par_imsi</value>
      </contents>
    </parameter>
    <!-- DCO20230606 - Movil Partis - FIN -->
    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001 y VBTS_Schaman_002 - INICIO -->
    <parameter id="par_volte_front" type="value">
      <contents>
        <value type="parameter" role="front">par_volte</value>
      </contents>
    </parameter>

    <parameter id="par_tipo_subtipo_cliente_front" type="value">
      <contents>
          <value type="parameter" role="front">par_tipo_subtipo_cliente</value>
      </contents>
    </parameter>

    <parameter id="par_subtipo_cliente_front" type="value">
        <contents>
            <value type="parameter" role="front">par_subtipo_cliente</value>
        </contents>
    </parameter>

    <parameter id="par_customer_type_front" type="value" name="Tipo de cliente">
      <contents>
          <value type="parameter" role="front">par_customer_type</value>
      </contents>
    </parameter>
    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001 y VBTS_Schaman_002 - FIN -->
  </parameters>

  <checks>

    <!-- Checks HTTPCODE y ERRCODE -->

    <check id="chk_get_element_msisdn_http_code_ok">
      <parameter>par_get_element_msisdn_http_code</parameter>
      <result>
        <expr type="and">
          <operation type="greater_or_equal">
            <args><arg><value type="value">200</value></arg></args>
          </operation>
          <operation type="lower">
            <args><arg><value type="value">300</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>
    
    <check id="chk_get_element_msisdn_err_code_ok">
      <parameter>par_get_element_msisdn_err_code</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">0</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_get_element_vpn_http_code_ok">
      <parameter>par_get_element_vpn_http_code</parameter>
      <result>
        <expr type="and">
          <operation type="greater_or_equal">
            <args><arg><value type="value">200</value></arg></args>
          </operation>
          <operation type="lower">
            <args><arg><value type="value">300</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>
    
    <check id="chk_get_element_vpn_err_code_ok">
      <parameter>par_get_element_vpn_err_code</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">0</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_update_by_msisdn_http_code_ok">
      <parameter>par_update_by_msisdn_http_code</parameter>
      <result>
        <expr type="and">
          <operation type="greater_or_equal">
            <args><arg><value type="value">200</value></arg></args>
          </operation>
          <operation type="lower">
            <args><arg><value type="value">300</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>
    
    <check id="chk_update_by_msisdn_err_code_ok">
      <parameter>par_update_by_msisdn_err_code</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">0</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <!-- Cheks de comprobaciones de variables -->

    <!-- get_element_msisdn -->

    <check id="chk_imsi_clarify_onenet_ok">
      <parameter>par_imsi_front</parameter> <!-- DCO20230606 - Movil Partis -->
      <result>
        <expr type="and">
          <operation type="contains"> <!-- DCO20230606 - Movil Partis -->
            <args><arg><value type="parameter">par_gemsisdn_imsi</value></arg></args> <!-- DCO20230606 - Movil Partis -->
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_shortnumber_clarify_onenet_ko">
      <parameter>par_gemsisdn_onenet_shortnumber</parameter>
      <result>
        <expr type="and">
          <operation type="not_equal">
            <args><arg><value type="parameter" role="front">par_vpn_shortnumber</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_onenet_extension_bloqueada">
      <parameter>par_gemsisdn_extension_bloqueada</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">Si</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_not_onenet_extension_bloqueada">
      <parameter>par_gemsisdn_extension_bloqueada</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">No</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_onenet_extension_existe">
      <parameter>par_gemsisdn_nat_ext_id</parameter>
      <result>
        <expr type="and">
          <operation type="not_equal">
            <args><arg><value type="value">unknown</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_one_net_volte">
      <parameter>par_gemsisdn_nat_ext_type_id</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">14</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <!-- get_element_vpn -->

    <check id="chk_onenet_vpn_bloqueada">
      <parameter>par_gevpn_vpn_bloqueada</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">Si</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_not_onenet_vpn_bloqueada">
      <parameter>par_gevpn_vpn_bloqueada</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">No</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_onenet_vpn_existe">
      <parameter>par_gevpn_vpnid</parameter>
      <result>
        <expr type="and">
          <operation type="not_equal">
            <args><arg><value type="value">unknown</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_update_by_mssidn_shortnumber_alredy_exist"><!-- DBC20220826 - Se cambia el parámetro hyp-028 (Hypercare) -->
      <parameter>par_update_by_msisdn_error_shortnumber</parameter>
      <result>
        <expr type="and">
          <operation type="equal">
            <args><arg><value type="value">natext.error.national.extension.shortNumber.already.exists</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <!-- DCO20221205 - Gaps Butterfly - INICIO -->
    <!-- GAP25 -->
    <check id="chk_gemsisdn_onenet_vpn_existe">
      <parameter>par_gemsisdn_vpn_id</parameter>
      <result>
        <expr type="and">
          <operation type="not_equal">
            <args><arg><value type="value">unknown</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>
    <!-- DCO20221205 - Gaps Butterfly - FIN -->
    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001, VBTS_Schaman_002 y VBTS_Schaman_005 - INICIO -->
    <check id="chk_volte_front">
      <parameter>par_volte_front</parameter>
      <result>
        <expr type="and">
          <operation type="not_equal">
            <args><arg><value type="value">unknown</value></arg></args>
          </operation>
        </expr>
      </result>
    </check>

    <check id="chk_segmento_not_movil_residencial">
      <parameter>par_customer_type_front</parameter>
      <result>
          <expr type="and">
              <operation type="not_equal">
                  <args><arg><value type="value">RESIDENCIAL</value></arg></args>
              </operation>
              <operation type="not_equal">
                  <args><arg><value type="value">unknown</value></arg></args>
              </operation>
              <operation type="not_equal">
                  <args><arg><value type="value">PYME</value></arg></args>
              </operation>
          </expr>
      </result>
    </check>

    <check id="chk_segmento_not_movil_residencial_microempresas_subtipo">
      <parameter>par_subtipo_cliente_front</parameter>
      <result>
          <expr type="and">
              <operation type="not_contains">
                  <args><arg><value type="value">ME</value></arg></args>
              </operation>
              <operation type="not_contains">
                  <args><arg><value type="value">MICRO</value></arg></args>
              </operation>
              <operation type="not_contains">
                  <args><arg><value type="value">PQ</value></arg></args>
              </operation>
          </expr>
      </result>
  </check>

  <check id="chk_segmento_not_movil_residencial_microempresas">
      <parameter>par_tipo_subtipo_cliente_front</parameter>
      <result>
          <expr type="and">
              <operation type="not_contains">
                  <args><arg><value type="value">PYME</value></arg></args>
              </operation>
          </expr>
      </result>
  </check>
    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001, VBTS_Schaman_002 y VBTS_Schaman_005 - FIN -->
  </checks>

  <tests>
    <!-- TEST TEMPLATE -->

    <test id="tst_template">
        <expr type="and" result="true"/>
    </test>

    <!-- Tests funciona la llamada (isok) -->

    <test id="tst_get_element_msisdn_isok">
      <expr type="and">
        <reference type="check" id="chk_get_element_msisdn_http_code_ok"/>
        <reference type="check" id="chk_get_element_msisdn_err_code_ok"/>
      </expr>
    </test>

    <test id="tst_get_element_vpn_isok">
      <expr type="and">
        <reference type="check" id="chk_get_element_vpn_http_code_ok"/>
        <reference type="check" id="chk_get_element_vpn_err_code_ok"/>
      </expr>
    </test>

    <test id="tst_update_by_msisdn_isok">
      <expr type="and">
        <reference type="check" id="chk_update_by_msisdn_http_code_ok"/>
        <reference type="check" id="chk_update_by_msisdn_err_code_ok"/>
      </expr>
    </test>

    <!-- Tests de variables -->

    <!-- get_element_msisdn -->
    
    <test id="tst_imsi_clarify_onenet_ok">
      <expr type="and">
        <reference type="check" id="chk_imsi_clarify_onenet_ok"/>
      </expr>
    </test>
    
    <test id="tst_not_imsi_clarify_onenet_ok">
      <expr type="and">
        <reference type="check" id="chk_imsi_clarify_onenet_ok" inverse="true"/>
      </expr>
    </test>

    <test id="tst_shortnumber_clarify_onenet_ko">
      <expr type="and">
        <reference type="check" id="chk_shortnumber_clarify_onenet_ko"/>
      </expr>
    </test>
    
    <test id="tst_not_shortnumber_clarify_onenet_ko">
      <expr type="and">
        <reference type="check" id="chk_shortnumber_clarify_onenet_ko" inverse="true"/>
      </expr>
    </test>

    <test id="tst_onenet_extension_bloqueada">
      <expr type="or">
        <reference type="check" id="chk_onenet_extension_bloqueada"/>
        <expr type="and">
          <reference type="check" id="chk_get_element_msisdn_http_code_ok"/>
          <reference type="check" id="chk_onenet_extension_existe" inverse="true"/>
        </expr>
      </expr>
    </test>

    <test id="tst_not_onenet_extension_bloqueada">
      <expr type="and">
        <reference type="check" id="chk_not_onenet_extension_bloqueada"/>
      </expr>
    </test>

    <test id="tst_msisdn_result_ok">
      <expr type="and">
        <reference type="check" id="chk_onenet_extension_existe"/>
      </expr>
    </test>

    <test id="tst_msisdn_result_ko">
      <expr type="and">
        <reference type="check" id="chk_onenet_extension_existe" inverse="true"/>
      </expr>
    </test>

    <!-- get_element_vpn -->

    <test id="tst_onenet_vpn_bloqueada">
      <expr type="or">
        <reference type="check" id="chk_onenet_vpn_bloqueada"/>
        <expr type="and">
          <reference type="check" id="chk_get_element_vpn_http_code_ok"/>
          <reference type="check" id="chk_onenet_vpn_existe" inverse="true"/>
        </expr>
      </expr>
    </test>

    <test id="tst_not_onenet_vpn_bloqueada">
      <expr type="and">
        <reference type="check" id="chk_not_onenet_vpn_bloqueada"/>
      </expr>
    </test>

    <test id="tst_not_onenet_msisdn_provisionado"><!-- JTP20221116 - Gaps Butterfly - Gap25 -->
      <expr type="and">
        <reference type="check" id="chk_gemsisdn_onenet_vpn_existe" inverse="true"/> <!-- JTP20221116 - Gaps Butterfly - Gap25 -->
      </expr>
    </test>

    <test id="tst_onenet_msisdn_provisionado"><!-- JTP20221116 - Gaps Butterfly - Gap25 -->
      <expr type="and">
        <reference type="check" id="chk_gemsisdn_onenet_vpn_existe"/> <!-- JTP20221116 - Gaps Butterfly - Gap25 -->
      </expr>
    </test>

    <!-- DCO20240117 - Diagnosticos VoLTE - VBTS_Schaman_001, VBTS_Schaman_002 y VBTS_Schaman_005 - Se elimina el "tst_one_net_volte" porque se sustituye por "tst_check_volte_onenet_activado" -->

    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001, VBTS_Schaman_002 y VBTS_Schaman_005 - INICIO -->
    <test id="tst_segmento_not_movil_residencial_microempresas">
      <expr type="or">
          <reference type="check" id="chk_segmento_not_movil_residencial"/>
          <reference type="check" id="chk_segmento_not_movil_residencial_microempresas"/>
          <reference type="check" id="chk_segmento_not_movil_residencial_microempresas_subtipo"/>
      </expr>    
    </test>

    <test id="tst_segmento_not_movil_residencial_partis">
        <expr type="or">
            <reference type="check" id="chk_segmento_not_movil_residencial"/>
            <reference type="test" id="tst_segmento_not_movil_residencial_microempresas" inverse="true"/>
        </expr>    
    </test>
    
    <test id="tst_check_volte_onenet_desactivado">
      <expr type="and">
        <reference type="check" id="chk_one_net_volte" inverse="true"/>
      </expr>
    </test>

    <test id="tst_check_volte_onenet_activado">
      <expr type="and">
        <reference type="check" id="chk_one_net_volte"/>
      </expr>
    </test>

    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001, VBTS_Schaman_002 y VBTS_Schaman_005 - FIN -->

    <test id="tst_update_by_mssidn_shortnumber_alredy_exist"><!-- DBC20220826 - Se cambia el parámetro hyp-028 (Hypercare) -->
      <expr type="and">
        <reference type="check" id="chk_update_by_mssidn_shortnumber_alredy_exist"/>
      </expr>
    </test>

    

  </tests>

  <actions>

    <action id="act_update_by_msisdn" type="button" techview="ifused">
      <texts>
        <text type="detail">Actualizar MSISDN</text>
        <text type="error">No se ha podido actualizar correctamente el MSISDN</text>
      </texts>
      <sequence>
        <step type="infosource" infosource="one_net" endpointid="update_by_msisdn">
          <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001 y VBTS_Schaman_002 - INICIO -->
          <args>
            <arg argid="arg_gemsisdn_nat_ext_type_id_action_parameter">
              <value type="parameter">par_gemsisdn_nat_ext_type_id_action_parameter</value>
            </arg>
          </args>
          <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001 y VBTS_Schaman_002 - FIN -->
        </step>
      </sequence>
      <!-- DCO20240103 - Bolsa de horas - Canales Digitales - INICIO -->
      <result>
        <expr type="and">
          <reference type="test" id="tst_update_by_msisdn_isok"/>
          <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/>
        </expr>
      </result>
      <!-- DCO20240103 - Bolsa de horas - Canales Digitales - FIN -->
      <messages>
        <message id="msg_act_update_by_msisdn_ok" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">La corrección se ha ejecutado correctamente</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/><!-- DBC20220826 - Se cambia el parámetro hyp-028 (Hypercare) -->
            </expr>             
          </requirement>
        </message>
        <message id="msg_act_update_by_msisdn_ko" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">La corrección no se ha podido ejecutar</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok" inverse="true"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/><!-- DBC20220826 - Se cambia el parámetro hyp-028 (Hypercare) -->
            </expr>             
          </requirement>
        </message>
        <!-- DBC20220826 - INICIO - Se cambia el parámetro hyp-028 (Hypercare) -->
        <message id="msg_act_update_by_msisdn_ko_shortnumber" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">No se ha podido actualizar la información en OneNet ya que la numeración corta ya está asignada a otro MSISDN</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist"/><!-- DBC20220826 - Se cambia el parámetro hyp-028 (Hypercare) -->
            </expr>             
          </requirement>
        </message>
        <!-- DBC20220826 - FIN - Se cambia el parámetro hyp-028 (Hypercare) -->
      </messages>
    </action>
    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001 y VBTS_Schaman_002 - INICIO -->
    <action id="act_activar_check_volte_onenet" type="button" techview="ifused">
      <texts>
        <text type="detail">Activar VoLTE</text>
        <text type="error">No se ha podido activar correctamente VoLTE</text>
      </texts>
      <sequence>
        <step type="infosource" infosource="one_net" endpointid="update_by_msisdn">
          <args>
            <arg argid="arg_gemsisdn_nat_ext_type_id_action_parameter">
              <value type="value">14</value>
            </arg>
          </args>
        </step>
      </sequence>
      <messages>
        <message id="msg_act_activate_volte_ok" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">La activación de VoLTE se ha ejecutado correctamente</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/>
            </expr>             
          </requirement>
        </message>
        <message id="msg_act_activate_volte_ko" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">La activación de VoLTE no se ha podido ejecutar</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok" inverse="true"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/>
            </expr>             
          </requirement>
        </message>
        <message id="msg_act_activate_volte_ko_shortnumber" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">No se ha podido actualizar la información en OneNet ya que la numeración corta ya está asignada a otro MSISDN</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist"/>
            </expr>             
          </requirement>
        </message>
      </messages>
    </action>

    <action id="act_desactivar_check_volte_onenet" type="button" techview="ifused">
      <texts>
        <text type="detail">Desactivar VoLTE</text>
        <text type="error">No se ha podido desactivar correctamente VoLTE</text>
      </texts>
      <sequence>
        <step type="infosource" infosource="one_net" endpointid="update_by_msisdn">
          <args>
            <arg argid="arg_gemsisdn_nat_ext_type_id_action_parameter">
              <value type="value">1</value>
            </arg>
          </args>
        </step>
      </sequence>
      <messages>
        <message id="msg_act_deactivate_volte_ok" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">La desactivación de VoLTE se ha ejecutado correctamente</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/>
            </expr>             
          </requirement>
        </message>
        <message id="msg_act_deactivate_volte_ko" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">La desactivación de VoLTE no se ha podido ejecutar</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok" inverse="true"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist" inverse="true"/>
            </expr>             
          </requirement>
        </message>
        <message id="msg_act_deactivate_volte_ko_shortnumber" severity="info" datatype="text" storable="true">
          <body>
            <value type="value">No se ha podido actualizar la información en OneNet ya que la numeración corta ya está asignada a otro MSISDN</value>
          </body>           
          <requirement>
            <expr type="and">
              <reference type="test" id="tst_update_by_msisdn_isok"/>
              <reference type="test" id="tst_update_by_mssidn_shortnumber_alredy_exist"/>
            </expr>             
          </requirement>
        </message>
      </messages>
    </action>
    <!-- CAD20231127 - Diagnosticos VoLTE - VBTS_Schaman_001 y VBTS_Schaman_002 - FIN -->
  </actions>

</template>
