<?xml version='1.0' encoding='UTF-8'?>
<template infosource="certification" version="2.0" type="infosource">
    <connectivity>
        <action>
            <endpoints>
                <!--ENDPOINT ENVIAR RESULTADO PRUEBAS-->
                <endpoint type="ws" id="Enviar_resultado_pruebas" verbose="true" lazy="true" connecttimeout="5000" requesttimeout="1000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                    <method>POST</method>
                    <url ignoreSSL="true">{url}/ResourceConfigurationREST/resourceConfiguration</url>
                    <args>
                        <arg type="path" id="url">
                            <value type="parameter" parameterid="par_url_bus"/>
                        </arg>
                        <arg type="header" id="Accept">
                            <value type="value"><content>application/json</content></value>
                        </arg>
                        <arg type="header" id="X-IBM-Client-Id">
                            <value type="parameter" parameterid="par_bus_clientid"/>
                        </arg>
                        <arg type="header" id="X-VF-API-Process">
                            <value type="value"><content>Enviar_resultado_pruebas</content></value>
                        </arg>
                        <arg type="header" id="Content-Type">
                            <value type="value"><content>application/json</content></value>
                        </arg>
                    </args>
                    <body contenttype="text">
                        <text>
                            <value type="value"><content><![CDATA[
                                {
                                    "characteristic": [
                                    {
                                       "characteristicsValue": [
                                         {
                                           "characteristicName": "detalle",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_detalle"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "fecha",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_fecha"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "idOrden",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_id_orden"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "idPrueba",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_id_prueba"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "nombrePrueba",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_nombre_prueba"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "resultado",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_resultado"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "usuario",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_user"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "tipoOrden",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_tipo_orden"/>
                            <value type="value"><content><![CDATA["
                                         }
                                       ]
                                    }]
                                }]]></content></value>
                        </text>
                    </body>
                    <response type="json"/>
                </endpoint>

                <!-- DCO20220824 - Instalaciones MVP - Nuevo endpoint para envío de pruebas a CRM - INICIO -->
                <endpoint type="ws" id="Enviar_resultado_pruebas_crm" verbose="true" lazy="true" connecttimeout="5000" requesttimeout="3000"><!--CCA20240125 - SP3510-->
                  <method>POST</method>
                  <url ignoreSSL="true">{url}CustomerAppointmentSOAP11/customerAppointment</url>
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_bus"/>
                      </arg>
                      <arg type="header" id="Accept">
                          <value type="value"><content>*/*</content></value>
                      </arg>
                      <arg type="header" id="X-IBM-Client-Id">
                          <value type="parameter" parameterid="par_bus_clientid"/>
                      </arg>
                      <arg type="header" id="X-VF-API-Process">
                          <value type="value"><content>Enviar_resultado_pruebas</content></value>
                      </arg>
                      <arg type="header" id="Content-Type">
                          <value type="value"><content>application/xml</content></value>
                      </arg>
                  </args>
                  <body contenttype="text">
                    <text>
                      <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:v1="http://group.vodafone.com/schema/vbm/customer/customer-appointment/v1" xmlns:v11="http://group.vodafone.com/schema/common/v1" xmlns:urn="urn:un:unece:uncefact:documentation:standard:CoreComponentType:2" xmlns:v12="http://group.vodafone.com/schema/vbo/customer/customer-appointment/v1" xmlns:v13="http://group.vodafone.com/schema/extension/vbo/customer/customer-appointment/v1">
                        <soap:Body>
                          <v1:UpdateCustomerAppointmentVBMRequest>
                            <v1:CustomerAppointmentVBO>
                              <v11:IDs>
                                <v11:ID schemeName="OrderID">]]></content></value><value type="argument" argumentid="arg_id_orden"/><value type="value"><content><![CDATA[</v11:ID>
                                <v11:ID schemeName="TestID">]]></content></value><value type="argument" argumentid="arg_id_prueba"/><value type="value"><content><![CDATA[</v11:ID>
                              </v11:IDs>
                              <v11:Name>]]></content></value><value type="argument" argumentid="arg_nombre_prueba"/><value type="value"><content><![CDATA[</v11:Name>
                              <v11:Type>]]></content></value><value type="argument" argumentid="arg_tipo_orden"/><value type="value"><content><![CDATA[</v11:Type>
                              <v11:Categories>
                                <v11:Category name="Process">SendTestOutcome</v11:Category>
                              </v11:Categories>
                              <v12:Details>
                                <v12:Purpose>]]></content></value><value type="argument" argumentid="arg_detalle"/><value type="value"><content><![CDATA[</v12:Purpose>
                                <v12:Outcome>]]></content></value><value type="argument" argumentid="arg_resultado"/><value type="value"><content><![CDATA[</v12:Outcome>
                              </v12:Details>
                              <v12:Roles>
                                <v12:Requester>
                                  <v11:Name>]]></content></value><value type="argument" argumentid="arg_user"/><value type="value"><content><![CDATA[</v11:Name>
                                </v12:Requester>
                              </v12:Roles>
                            </v1:CustomerAppointmentVBO>
                          </v1:UpdateCustomerAppointmentVBMRequest>
                        </soap:Body>
                      </soap:Envelope>
                      ]]>
                        </content></value>
                    </text>
                  </body>
                  <response type="xml2json1"/>
                </endpoint>
                <!-- DCO20220824 - Instalaciones MVP - Nuevo endpoint para envío de pruebas a CRM - FIN -->

                <!--Añadir Notas-->
                <endpoint id="Anadir_Notas" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="1000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                  <method>PATCH</method>
                  <url ignoreSSL="true">{url}CustomerAppointmentREST/customerAppointment/{identificador}</url>
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_bus"/><!--SIT 1-->
                      </arg>
                      <arg type="path" id="identificador">
                          <value type="parameter" parameterid="par_identificador_anadir_notas"/>
                      </arg>
                      <arg type="header" id="Accept">
                        <value type="value"><content>*/*</content></value>
                     </arg>
                     <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bus_clientid"/>
                     </arg>
                     <arg type="header" id="X-VF-API-Debug">
                        <value type="value"><content>true</content></value>
                     </arg>
                     <arg type="header" id="X-VF-API-Process">
                        <value type="value"><content>GenericUpdateActivity</content></value>
                     </arg>
                     <arg type="header" id="Content-Type">
                          <value type="value"><content>application/json</content></value>
                     </arg>
                  </args>
                  <body contenttype="text">
                    <text>
                      <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts","value": {"specification": {"characteristicsValue": [{"characteristicName": "autec_notes","value": "]]></content></value>
                      <value type="argument" argumentid="arg_nota"/>
                      <value type="value"><content><![CDATA["}]}}}]]]></content></value>
                  </text>
                  </body>
                   <response type="json"/>
                </endpoint>

                <!--Notificacion_Cierre_de_Actividad-->
                <endpoint id="Notificacion_Cierre_de_Actividad" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="1000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                  <method>PATCH</method>
                  <url ignoreSSL="true">{url}/CustomerAppointmentREST/customerAppointment/{identificador}</url> <!--Se añade "aa" en la URL para forzar que falle-->
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_bus"/>
                      </arg>
                      <arg type="path" id="identificador">
                          <value type="parameter" parameterid="par_identificador_cierre_actividad"/> <!-- Activity_ID-->
                      </arg>
                      <arg type="header" id="Accept">
                        <value type="value"><content>*/*</content></value>
                     </arg>
                     <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bus_clientid"/>
                     </arg>
                     <arg type="header" id="X-VF-API-Debug">
                        <value type="value"><content>true</content></value>
                     </arg>
                     <arg type="header" id="X-VF-API-Process">
                        <value type="value"><content>GenericUpdateActivity</content></value>
                     </arg>
                     <arg type="header" id="Content-Type">
                          <value type="value"><content>application/json</content></value>
                     </arg>
                  </args>
                  <body contenttype="text">
                    <text>
                      <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts","value": {"specification": {"characteristicsValue": [{"characteristicName": "autec_id","value": "]]></content></value>
                      <value type="argument" argumentid="arg_autec_id"/>
                      <!--<value type="argument" argumentid="arg_intervention_code"/>-->
                      <value type="value"><content><![CDATA["}]}}}]]]></content></value>
                    </text>
                  </body>
                   <response type="json"/>
                </endpoint>

                <!-- 2. Crear Encolado-->

                <endpoint type="ws" id="Crear_Encolado" verbose="true" lazy="true" connecttimeout="5000" requesttimeout="8000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                    <method>POST</method>
                    <url ignoreSSL="true">{url}/TroubleTicketREST/troubleTicket</url>
                    <args>
                        <arg type="path" id="url">
                            <value type="parameter" parameterid="par_url_bus"/>
                        </arg>
                        <arg type="header" id="Accept">
                            <value type="value"><content>application/json</content></value>
                        </arg>
                        <arg type="header" id="X-IBM-Client-Id">
                            <value type="parameter" parameterid="par_bus_clientid"/>
                        </arg>
                        <arg type="header" id="X-VF-API-Process">
                            <value type="value"><content>CrearEncolado</content></value>
                        </arg>
                        <arg type="header" id="Content-Type">
                            <value type="value"><content>application/json</content></value>
                        </arg>
                    </args>
                    <body contenttype="text">
                        <text><!--TML2021021813 - INICIO - se añaden 3 parámetros: Telf_Tecnico que utiliza el mismo valor de ANI, Motivo_Llamada y Comentario-->
                            <value type="value"><content><![CDATA[
                                {
                                    "specification": 
                                    {
                                       "characteristicsValue": [
                                         {
                                           "characteristicName": "ANI",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_tech_phonenumber"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "Telf_Tecnico",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_tech_phonenumber"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "DNIS",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_phonenumber_to_call"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "Codigo_actuacion",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_actuation_code"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "Tipo_Actuacion",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_actuation_type"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "Motivo_Llamada",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_motivo"/>
                            <value type="value"><content><![CDATA["
                                         },
                                          {
                                           "characteristicName": "Comentario",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_comentarios"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "idServicio",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_service_id"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "ID_Actuacion_TOA",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_id_actuacion"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "Motivo",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_motivo"/>
                            <value type="value"><content><![CDATA["
                                         },
                                         {
                                           "characteristicName": "Origen",
                                           "value": "]]></content></value>
                            <value type="argument" argumentid="arg_origen"/>
                            <value type="value"><content><![CDATA["
                                         }
                                       ]
                                    }
                                }]]></content></value>
                        </text><!--TML2021021813 - FIN - se añaden 3 parámetros: Telf_Tecnico que utiliza el mismo valor de ANI, Motivo_Llamada y Comentario-->
                    </body>
                    <response type="json"/>
                </endpoint>

            </endpoints>
        </action>
        <troubleshoot>

          <!--PCA20231108 - INICIO -->
            <datalinks>

                <datalink id="MB_consulta_speedtest_inicios" cachemode="never">
                    <endpointreferences>
                        <endpointreference id="MB_consulta_speedtest_1_inicio"/>
                        <endpointreference id="MB_consulta_speedtest_2_inicio"/>
                        <!-- CCA20231110 - SP3204
                        <endpointreference id="MB_consulta_speedtest_3_inicio"/>
                        <endpointreference id="MB_consulta_speedtest_4_inicio"/>
                        <endpointreference id="MB_consulta_speedtest_5_inicio"/> -->
                    </endpointreferences>
                </datalink>

                <datalink id="MB_consulta_speedtest_finales" cachemode="never">
                    <endpointreferences>
                        <endpointreference id="MB_consulta_speedtest_1"/>
                        <endpointreference id="MB_consulta_speedtest_2"/>
                        <!-- CCA20231110 - SP3204
                        <endpointreference id="MB_consulta_speedtest_3"/>
                        <endpointreference id="MB_consulta_speedtest_4"/>
                        <endpointreference id="MB_consulta_speedtest_5"/> -->
                    </endpointreferences>
                </datalink>
				
				        <datalink id="MB_consulta_speedtest_decisor_inicio" cachemode="never">
                    <endpointreferences>
                        <endpointreference id="MB_consulta_speedtest_inicio"/>
                    </endpointreferences>
                </datalink>
				
				        <datalink id="MB_consulta_speedtest_decisor_final" cachemode="never">
                    <endpointreferences>
                        <endpointreference id="MB_consulta_speedtest"/>
                    </endpointreferences>
                </datalink>
            </datalinks>
			    <!--PCA20231108 - FIN -->
          <endpoints>

              <!--1. Consulta Posicion Encolado-->

                <endpoint id="Consulta_Posicion_Encolado" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="4000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                  <method>GET</method>
                  <!--<url ignoreSSL="true">https://run.mocky.io/v3/6f8d481e-d41d-494b-a540-2f32284e4eca</url>--><!--mock para existencia de encolado-->
                  <!--<url ignoreSSL="true">https://run.mocky.io/v3/53513e8f-744a-4edb-80a4-e12ab2e1c887</url>--><!--mock para resultado 404 not found-->
                  <url ignoreSSL="true">{url}/CustomerAppointmentREST/customerAppointment/{intervention}/relatedCustomerAppointment/{tech_phone}</url>
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_bus"/>
                      </arg>
                      <arg type="path" id="intervention">
                          <value type="parameter" parameterid="par_identificador_intervention"/>
                      </arg>
                      <arg type="path" id="tech_phone">
                          <value type="parameter" role="certification" parameterid="par_toa_technician_phonenumber"/>
                      </arg>
                      <arg type="header" id="Accept">
                        <value type="value"><content>*/*</content></value>
                     </arg>
                     <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bus_clientid"/>
                     </arg>
                     <arg type="header" id="X-VF-API-Process">
                        <value type="value"><content>ConsultaPosicionEncolado</content></value>
                     </arg>
                     <arg type="header" id="Content-Type">
                          <value type="value"><content>application/json</content></value>
                     </arg>
                  </args>
                   <response type="json"/>
                </endpoint>

                <endpoint id="Consulta_Encolado_Actividad" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="16000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/TroubleTicketREST/troubleTicket/{id_Actuacion}</url>
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_bus"/>
                      </arg>
                      <arg type="path" id="id_Actuacion">
                          <value type="parameter" role="certification" parameterid="par_toa_order_id"/>
                      </arg>
                      <arg type="header" id="Accept">
                        <value type="value"><content>*/*</content></value>
                     </arg>
                     <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bus_clientid"/>
                     </arg>
                     <arg type="header" id="X-VF-API-Process">
                        <value type="value"><content>ConsultaEncolado</content></value>
                     </arg>
                     <arg type="header" id="Content-Type">
                          <value type="value"><content>application/json</content></value>
                     </arg>
                  </args>
                   <response type="json"/>
                </endpoint>

                <!-- PCA20220629 - SPEEDTEST - INICIO -->
                <endpoint id="MB_consulta_speedtest" type="ws" verbose="true" lazy="false" connecttimeout="10000" requesttimeout="10000" initDelay="5000" retry="8" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}{operatorcode_numero_ejecucion}</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="operatorcode_numero_ejecucion">
                      <value type="parameter" parameterid="par_id_schaman_consulta_speddtest_fin" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>

                <endpoint id="MB_consulta_speedtest_1" type="ws" verbose="true" lazy="false" connecttimeout="10000" requesttimeout="10000" initDelay="5000" retry="8" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}1</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>
                <endpoint id="MB_consulta_speedtest_2" type="ws" verbose="true" lazy="false" connecttimeout="10000" requesttimeout="10000" initDelay="5000" retry="8" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}2</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>
                <!-- 
                  CCA20231110 - SP3204
                <endpoint id="MB_consulta_speedtest_3" type="ws" verbose="true" lazy="false" connecttimeout="10000" requesttimeout="10000" initDelay="5000" retry="8" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}3</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>
                <endpoint id="MB_consulta_speedtest_4" type="ws" verbose="true" lazy="false" connecttimeout="10000" requesttimeout="10000" initDelay="5000" retry="8" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}4</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>
                <endpoint id="MB_consulta_speedtest_5" type="ws" verbose="true" lazy="false" connecttimeout="10000" requesttimeout="10000" initDelay="5000" retry="8" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}5</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint> 
                -->
               <!-- PCA20220629 - SPEEDTEST - FIN -->
               <!--CCA20231122 - Correcciones SpeedTest - inicio-->
               <endpoint id="MB_consulta_speedtest_1_inicio" type="ws" verbose="false" lazy="false" connecttimeout="1000" requesttimeout="5000" initDelay="500" retry="2" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}1</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>
                <endpoint id="MB_consulta_speedtest_2_inicio" type="ws" verbose="false" lazy="false" connecttimeout="1000" requesttimeout="5000" initDelay="500" retry="2" retryDelay="5000">
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/schaman-mailbox/api/{version}/mailbox/{operatorcode}2</url>
                  <args>
                    <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_schaman"/>
                    </arg>
                    <arg type="header" id="Authorization">
                      <value type="parameter" parameterid="par_schaman_authorization"/>
                    </arg>
                    <arg type="path" id="operatorcode">
                      <value type="parameter" parameterid="par_customer_crmid_front" role="certification"/>
                    </arg>
                    <arg type="path" id="version">
                      <value type="parameter" parameterid="par_td_version"/>
                    </arg>
                  </args>
                  <response type="json"/>
                </endpoint>
                <!--CCA20231122 - Correcciones SpeedTest - fin-->
          </endpoints>
        </troubleshoot>
    </connectivity>

    <parameters>
      
      <!--ENDPOINT REQUEST PARAMS-->
        <parameter id="par_url_bus" techview="never">
            <contents>
              <value type="lookup">url_list</value>
            </contents>
            <sequence>
                <operation type="row_delimiter">
                  <args><arg><value type="value">;</value></arg></args>
                </operation>
                <operation type="column_delimiter">
                  <args><arg><value type="value">,</value></arg></args>
                </operation>
                <operation type="column_index">
                  <args><arg><value type="value">1</value></arg></args>
                </operation>
                <operation type="column_equal">
                  <args><arg><value type="value">url_bus</value></arg></args>
                </operation>
                <operation type="column_selector">
                  <args><arg><value type="value">2</value></arg></args>
                </operation>
            </sequence>
        </parameter>

        <parameter id="par_bus_clientid" techview="never">
            <contents>
              <value type="lookup">url_list</value>
              
            </contents>
            <sequence>
                <operation type="row_delimiter">
                  <args><arg><value type="value">;</value></arg></args>
                </operation>
                <operation type="column_delimiter">
                  <args><arg><value type="value">,</value></arg></args>
                </operation>
                <operation type="column_index">
                  <args><arg><value type="value">1</value></arg></args>
                </operation>
                <operation type="column_equal">
                  <args><arg><value type="value">url_bus</value></arg></args>
                </operation>
                <operation type="column_selector">
                  <args><arg><value type="value">3</value></arg></args>
                </operation>
            </sequence>
        </parameter>

        <!--DBC_parseado hasta que sepamos donde apuntar-->
        <parameter id="par_identificador_cierre_actividad">
          <contents>
            <value type="parameter" role="certification">par_toa_order_id</value>
          </contents>
        </parameter>

        <parameter id="par_identificador_intervention">
          <contents>
            <value type="parameter" role="certification">par_toa_intervention_code</value>
          </contents>
        </parameter>

        <parameter id="par_identificador_anadir_notas">
          <contents>
            <value type="parameter" role="certification">par_toa_order_id</value>
          </contents>
        </parameter>

        <!-- DCO20220824 - Instalaciones MVP - Nuevo parámetro para el endpoint Enviar_resultado_pruebas_crm -INICIO -->
        <parameter id="par_identificador_anadir_notas_toa_res">
          <contents>
            <value type="parameter" role="certification">par_toa_order_id</value>
          </contents>
        </parameter>
        <!-- DCO20220824 - Instalaciones MVP - Nuevo parámetro para el endpoint Enviar_resultado_pruebas_crm -FIN -->

        <parameter id="par_activity_id">
          <contents>
            <value type="parameter" role="certification">par_toa_order_id</value>
          </contents>
        </parameter>

        <!-- PCA20220525 - SPEEDTEST - INICIO -->
        <parameter id="par_url_schaman" type="value" techview="never"><!-- -->
          <contents>
              <value type="lookup">url_list</value>
          </contents>
          <sequence>
            <operation type="row_delimiter">
                <args><arg><value type="value">;</value></arg></args>
            </operation>
            <operation type="column_delimiter">
                <args><arg><value type="value">,</value></arg></args>
            </operation>
            <operation type="column_index">
                <args><arg><value type="value">1</value></arg></args>
            </operation>
            <operation type="column_equal">
                <args><arg><value type="value">url_schaman_mailbox</value></arg></args>
            </operation>
            <operation type="column_selector">
                <args><arg><value type="value">2</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_schaman_authorization" type="value" techview="never"><!-- -->
          <contents>
              <value type="lookup">url_list</value>
          </contents>
          <sequence>
            <operation type="row_delimiter">
                <args><arg><value type="value">;</value></arg></args>
            </operation>
            <operation type="column_delimiter">
                <args><arg><value type="value">,</value></arg></args>
            </operation>
            <operation type="column_index">
                <args><arg><value type="value">1</value></arg></args>
            </operation>
            <operation type="column_equal">
                <args><arg><value type="value">url_schaman_mailbox</value></arg></args>
            </operation>
            <operation type="column_selector">
                <args><arg><value type="value">3</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_td_version" type="value" techview="never">
          <contents>
            <value type="value">1</value>
          </contents>
        </parameter>
        <!-- PCA20220525 - SPEEDTEST - FIN -->
      
    </parameters>
    <checks> 

    </checks>
</template>