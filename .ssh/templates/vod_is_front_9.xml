<?xml version='1.0' encoding='UTF-8'?>
<template infosource="front" type="infosource" version="3.1">


    <!-- ############################################################################################## -->
    <!-- Version 1.5                                                                                    -->
    <!--  - se añade visualizacion de campos en visa tecnica                                            --> 
    <!-- Version 1.4                                                                                    -->
    <!--  - Creados los tests,checks y params de realspeed y estado_cliente deconectado, deconectado no pago,cancelado,suspendido                   -->
    <!-- Version 1.3                                                                                    -->
    <!--  - Creados los tests que comprueban si el servicio está cerrado y en fase early, o abierto y pendiente.   -->
    <!-- Version 1.2                                                                                    -->
    <!--  - Creados los tests que comprueban los valores de varias fechas de orderdata.                   -->
    <!-- Version 1.1                                                                                    -->
    <!--  - Creados los tests que comprueban si la orden está cerrada y si se cerró hace poco respectivamente.  -->
    <!-- Version 1.0                                                                                    -->
    <!--  - Version de partida                                                                          -->
    <!-- ############################################################################################## -->


    <connectivity>

      <troubleshoot>

            <datalinks>
                <datalink id="GetSubscriptionList" cachemode="always">
                    <endpointreferences>
                        <endpointreference id="GRC" share="true"/>
                        <endpointreference id="GSL" />
                    </endpointreferences>
                </datalink>
            </datalinks>

          <endpoints>
              <endpoint id="ConsultarOTCanal" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
                <method>POST</method>
                <url ignoreSSL="true">http://m1-fbiztalk01:90/Ordenes/OrdenesService.svc</url>
				<args>
                    <arg type="path" id="url">
                        <value type="parameter" parameterid="par_url_bizbus"/>
                    </arg>
                    <arg type="header" id="Content-Type">
                        <value type="value"><content>application/soap+xml;charset=UTF-8;action="http://group.vodafone.com/contract/vbs/subscription/subscription/v1/get-list"</content></value>
                    </arg>
                    <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bizbus_clientid"/>
                    </arg>
                    <arg type="header" id="Connection">
                        <value type="value"><content>Keep-Alive</content></value>
                    </arg>
                     <arg type="header" id="X-VF-API-Process">
                      <value type="value"><content>ConsultarOTCanal</content></value>
                    </arg> 
                </args>
                <body contenttype="text">
                  <!-- <text>
                      <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:v1="http://group.vodafone.com/contract/vho/header/v1" xmlns:v11="http://group.vodafone.com/schema/vbm/subscription/subscription/v1" xmlns:v12="http://group.vodafone.com/schema/common/v1"><soap:Header xmlns:wsa="http://www.w3.org/2005/08/addressing">

                        <wsa:Action>http://group.vodafone.com/contract/vbs/subscription/subscription/v1/get-list</wsa:Action></soap:Header>
						   <soap:Body>
							  <ns:ConsultarOTCanal>
								 <ns:ORDER_ID>W498731005</ns:ORDER_ID>
							  </ns:ConsultarOTCanal>
						   </soap:Body>
                        </soap:Envelope>]]></content></value>
                  </text>-->
				  <text>
                      <value type="value"><content><![CDATA[
						<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:ns="http://ONO/CanalWeb/ESB/Ordenes/1.0">
						   <soap:Header/>
						   <soap:Body>
							  <ns:ConsultarOTCanal>
								 <ns:ORDER_ID>W498731005</ns:ORDER_ID>
							  </ns:ConsultarOTCanal>
						   </soap:Body>
						</soap:Envelope>
						]]></content></value>
                  </text>
                </body>
                <response type="xml2json1"/>
              </endpoint>

            <!-- Mockup de GRC -->

              <!--<endpoint id="GRC" verbose="true" lazy="true" type="ws" connecttimeout="1000" requesttimeout="5000">
                  <method>GET</method>
                  <url>{url}/grc/{serviceid}</url>
                  <args>
                      <arg type="path" id="url">
                        <value type="parameter" parameterid="par_url_biztalk"/>
                      </arg>
                        <arg type="path" id="serviceid">
                        <value type="parameter" parameterid="par_service_id"/>
                      </arg>
                  </args>
                  <response type="xml2json1"/>
              </endpoint>-->

            <!-- OJO llamada eliminada mientras se usa el servicio de Mockup -->

            <!--Nueva llamada de GRC(Pymes) que apunta a DatosServicio-->
            <endpoint id="GRC" verbose="true" lazy="true" type="ws" connecttimeout="3000" requesttimeout="13000"><!--JJSM 20230614 - INC000058586811-->
              <method>POST</method>
              <!--<url cert="pruebabt">{url}/ResourceConfiguration/ResourceConfiguration.svc</url>-->
              <url ignoreSSL="true">{url}/ResourceConfigurationSOAP12/GetResourceConfigurationList</url>
              <args>
                  <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_bizbus"/><!--Antes par_url_biztalk-->
                  </arg>
                  <arg type="header" id="Accept">
                    <value type="value"><content>*/*</content></value>
                 </arg>
                 <arg type="header" id="X-IBM-Client-Id">
                    <value type="parameter" parameterid="par_bizbus_clientid"/>
                 </arg>
                 <!--<arg type="header" id="X-VF-API-Debug">
                    <value type="value"><content>true</content></value>
                 </arg>-->
                 <arg type="header" id="X-VF-API-Process">
                    <value type="value"><content>ObtenerDatosServ</content></value>
                 </arg>
                 <arg type="header" id="Content-Type">
                      <value type="value"><content>application/xml</content></value>
                 </arg>
              </args>
              <body contenttype="text">
                  <text>
                      <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:v1="http://group.vodafone.com/contract/vho/header/v1" xmlns:v11="http://group.vodafone.com/schema/vbm/resource/resource-configuration/v1" xmlns:v12="http://group.vodafone.com/schema/common/v1">
                         <soap:Header>
                            <v1:Source>
                               <v1:System>Consolas</v1:System>
                               <v1:Timestamp>2018-09-23</v1:Timestamp>
                               <v1:Identity>
                                  <v1:Token>04</v1:Token>
                               </v1:Identity>
                            </v1:Source>
                            <v1:RouteInfo>
                               <v1:Route>
                                  <v1:Keys>
                                     <v1:Key Name="InvokingProcess">]]></content></value>
                                     <value type="parameter" parameterid="par_campo_generico_llamada"/>
                                     <value type="value"><content><![CDATA[</v1:Key>
                                     <v1:Key Name="repliesTo"></v1:Key>
                                     <v1:Key Name="requestDataID">]]></content></value><!--TML20211122 - necesidad de considerar diferentes requestIDs-->
                                     <value type="parameter" parameterid="par_request_data_id"/>
                                     <value type="value"><content><![CDATA[</v1:Key>
                                  </v1:Keys>
                               </v1:Route>
                            </v1:RouteInfo>
                            <v1:Correlation>
                               <v1:ConversationID>500</v1:ConversationID>
                            </v1:Correlation>
                         </soap:Header>
                         <soap:Body>
                            <v11:GetResourceConfigurationListVBMRequest>
                               <v12:Identification>
                                  <v12:Categories>
                                     <v12:Category name="Process">GetEquipmentConfiguration</v12:Category>
                                  </v12:Categories>
                               </v12:Identification>
                               <v12:Criteria>
                                  <v12:QueryExpression>
                                     <v12:ValueExpression Path="/ResourceConfigurationVBO/Parts/Specification/CharacteristicsValue@name=']]></content></value>
                                     <value type="parameter" parameterid="par_campo_generico"/>
                                     <value type="value"><content><![CDATA['" QueryOperatorCode="EQUALS"> <v12:Value>]]></content></value>
                                      <value type="parameter" parameterid="par_service_id"/>
                                      <value type="value"><content><![CDATA[</v12:Value>
                                     </v12:ValueExpression>
                                  </v12:QueryExpression>
                               </v12:Criteria>
                            </v11:GetResourceConfigurationListVBMRequest>
                         </soap:Body>
                      </soap:Envelope>]]></content></value>
                  </text>
              </body>
              <response type="xml2json1"/>
              <result>
                    <expr type="and">
                        <reference type="check" id="chk_grc_http_code_ok"/>
                    </expr>
                </result>
            </endpoint>

            <!-- llamada Residencial al WS 446 de Biztalk GetResourceConfiguration
              <endpoint id="GRC" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
                  <method>POST</method>
                  <url ignoreSSL="true">{url}/ResourceConfiguration/ResourceConfiguration.svc</url>
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_biztalk"/>
                      </arg>
                      <arg type="header" id="Content-Type">
                          <value type="value"><content>application/soap+xml; charset=utf-8; action="GetResourceConfigurationList"</content></value>
                      </arg>
                  </args>
                  <body contenttype="text">
                      <text>
                          <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:v1="http://group.vodafone.com/contract/vho/header/v1" xmlns:v11="http://group.vodafone.com/schema/vbm/resource/resource-configuration/v1" xmlns:v12="http://group.vodafone.com/schema/common/v1">
                             <soap:Header>
                                <v1:Source>
                                   <v1:System>Consolas</v1:System>
                                   <v1:Timestamp>2019-07-29</v1:Timestamp>
                                   <v1:Identity>
                                      <v1:Token>04</v1:Token>
                                   </v1:Identity>
                                </v1:Source>
                                <v1:RouteInfo>
                                   <v1:Route>
                                      <v1:Keys>
                                         <v1:Key Name="InvokingProcess">]]></content></value>
                                         <value type="parameter" parameterid="par_campo_generico_llamada"/>
                                         <value type="value"><content><![CDATA[</v1:Key>
                                         <v1:Key Name="repliesTo"></v1:Key>
                                         <v1:Key Name="requestDataID">88</v1:Key>
                                      </v1:Keys>
                                   </v1:Route>
                                </v1:RouteInfo>
                                <v1:Correlation>
                                   <v1:ConversationID>500</v1:ConversationID>
                                </v1:Correlation>
                             </soap:Header>
                             <soap:Body>
                                <v11:GetResourceConfigurationListVBMRequest>
                                   <v12:Identification>
                                      <v12:Categories>
                                         <v12:Category name="Process">GetEquipmentConfiguration</v12:Category>
                                      </v12:Categories>
                                   </v12:Identification>
                                   <v12:Criteria>
                                      <v12:QueryExpression>
                                         <v12:ValueExpression Path="/ResourceConfigurationVBO/Parts/Specification/CharacteristicsValue@name=']]></content></value>
                                         <value type="parameter" parameterid="par_campo_generico"/>
                                         <value type="value"><content><![CDATA['" QueryOperatorCode="EQUALS"> <v12:Value>]]></content></value>
                                          <value type="parameter" parameterid="par_service_id"/>
                                          <value type="value"><content><![CDATA[</v12:Value>
                                         </v12:ValueExpression>
                                      </v12:QueryExpression>
                                   </v12:Criteria>
                                </v11:GetResourceConfigurationListVBMRequest>
                             </soap:Body>
                          </soap:Envelope>]]></content></value>
                      </text>
                  </body>
                  <response type="xml2json1"/>
                  <result>
                        <expr type="and">
                            <reference type="check" id="chk_grc_http_code_ok"/>
                        </expr>
                    </result>

              </endpoint>-->

            <!-- llamada al WS306 de Biztalk GetProvisionStatus (Residencial)
              <endpoint id="GPS" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
                <method>POST</method>
                <url ignoreSSL="true">{url}/Consoles/Consoles.svc</url>
                <args>
                  <arg type="path" id="url">
                      <value type="parameter" parameterid="par_url_biztalk"/>
                  </arg>
                  <arg type="header" id="Content-Type">
                    <value type="value"><content>application/soap+xml; charset=utf-8; action="GetProvisioningStatusService"</content></value>
                  </arg>
                </args>
                <body contenttype="text">
                  <text>
                    <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:ns="http://ServicesPlatform/Consoles/1.0">
                                     <soap:Header/>
                                     <soap:Body>
                                        <ns:GetProvisioningStatusService>
                                           <ns:Request>
                                              <ns:ServiceId>]]></content></value>
                    <value type="parameter" parameterid="par_service_id_front"/>
                    <value type="value"><content><![CDATA[</ns:ServiceId>
                                     </ns:Request>
                                  </ns:GetProvisioningStatusService>
                               </soap:Body>
                            </soap:Envelope>
                            ]]></content></value>
                  </text>
                </body>
                <response type="xml2json1"/>
              </endpoint>-->

               <!--obtenerEstadoProvision--><!-- llamada al WS306 de Biztalk GetProvisionStatus (Pymes)-->
                <endpoint id="GPS" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="3000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                  <method>GET</method>
                  <url ignoreSSL="true">{url}/ServiceOrderREST/serviceOrder/{service_id}</url>
                  <args>
                      <arg type="path" id="url">
                          <value type="parameter" parameterid="par_url_bizbus"/>
                      </arg>
                      <arg type="path" id="service_id">
                          <value type="parameter" role="front" parameterid="par_service_id_front"/>
                      </arg>
                      <arg type="header" id="Accept">
                        <value type="value"><content>*/*</content></value>
                     </arg>
                     <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bizbus_clientid"/>
                     </arg>
                     <!--<arg type="header" id="X-VF-API-Debug">
                        <value type="value"><content>true</content></value>
                     </arg>-->
                     <arg type="header" id="X-VF-API-Process">
                        <value type="value"><content>GetProvisioningStatus</content></value>
                     </arg>
                     <arg type="header" id="Content-Type">
                          <value type="value"><content>application/json</content></value>
                     </arg>
                  </args>
                   <response type="json"/>
                </endpoint>

            <!-- llamada al WS 472 de Biztalk GetSalesOrderList-->
              <endpoint id="GSOL" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="2000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                <method>POST</method>
                <!-- A la espera de una URL real, se usará un mock para avanzar con la extracción de parámetros. -->
                <url ignoreSSL="true">{url}/SalesOrderSOAP12/GetSalesOrderList<!--http://www.mocky.io/v2/5d6687a73300004d00449d8c--><!--https://vf-bt1-prep1.vodafone.es/SalesOrderSOAP12/GetSalesOrderList.svc--></url>
                <args>
                    <arg type="path" id="url">
                        <value type="parameter" parameterid="par_url_bizbus"/>
                    </arg>
                    <arg type="header" id="Content-Type">
                        <value type="value"><content>application/soap+xml;charset=UTF-8;action="http://group.vodafone.com/contract/vbs/order/sales-order/v2/get-list"</content></value>
                    </arg>
                    <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bizbus_clientid"/>
                    </arg>
                    <arg type="header" id="Connection">
                        <value type="value"><content>Keep-Alive</content></value>
                    </arg>
                    <!--DCL20220301 Se comenta debido a la actualizacion del bus, que hacia que nos llegara la respuesta con vacios y signos no habituales
                      <arg type="header" id="Accept-Encoding">
                        <value type="value"><content>gzip,deflate</content></value>
                    </arg>-->
                </args>
                <body contenttype="text">
                  <text>
                      <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:v1="http://group.vodafone.com/contract/vho/header/v1" xmlns:v2="http://group.vodafone.com/schema/vbm/order/sales-order/v2" xmlns:v11="http://group.vodafone.com/schema/common/v1"><soap:Header xmlns:wsa="http://www.w3.org/2005/08/addressing"><wsa:Action>http://group.vodafone.com/contract/vbs/order/sales-order/v2/get-list</wsa:Action></soap:Header>
                        <soap:Body>
                           <v2:GetSalesOrderListVBMRequest>
                              <v11:Criteria>
                                 <v11:QueryExpression>
                                    <v11:QueryExpression>
                                       <v11:ValueExpression Path="/SalesOrderVBO/Categories/Category/@listName='Process'">
                                          <v11:Value>QueryOT</v11:Value>
                                       </v11:ValueExpression>
                                    </v11:QueryExpression>
                                    <v11:QueryExpression>
                                       <v11:ValueExpression Path="/SalesOrderVBO/Roles/Customer/IDs/ID/@schemeName='ID'">
                                          <v11:Value>]]></content></value>
                                          <value type="parameter" parameterid="par_client_id"/>
                                          <value type="value"><content><![CDATA[</v11:Value>
                                       </v11:ValueExpression>
                                    </v11:QueryExpression>
                                 </v11:QueryExpression>
                              </v11:Criteria>
                           </v2:GetSalesOrderListVBMRequest>
                        </soap:Body>
                      </soap:Envelope>]]></content></value>
                  </text>
                </body>
                <response type="xml2json1"/>
              </endpoint>


            <!-- Mockup de GSL -->

              <!--<endpoint id="GSL" verbose="true" lazy="true" type="ws" connecttimeout="1000" requesttimeout="5000">
                  <method>GET</method>
                  <url>{url}/gsl/{clientid}</url>
                  <args>
                      <arg type="path" id="url">
                        <value type="parameter" parameterid="par_url_biztalk"/>
                      </arg>
                        <arg type="path" id="clientid">
                        <value type="parameter" parameterid="par_client_id"/>
                      </arg>
                  </args>
                  <response type="xml2json1"/>
              </endpoint>-->


            <!-- OJO llamada eliminada mientras se usa el servicio de Mockup -->

            <!-- llamada al WS 426 de Biztalk GetSubscriptionList-->
              <endpoint id="GSL" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="1000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
                <method>POST</method>
                <!-- A la espera de una URL real, se usará un mock para avanzar con la extracción de parámetros. -->
                <url ignoreSSL="true">https://run.mocky.io/v3/ee0159b0-730e-44ee-92e7-462bc95ce032</url>
                <!-- <url ignoreSSL="true">{url}/SubscriptionSOAP12/GetSubscriptionList?Process=ConsultarServicios</url> -->
                <!-- <url ignoreSSL="true">{url}/SubscriptionSOAP12/GetSubscriptionList</url> -->
                <!--http://www.mocky.io/v2/5d66658e3300001000449c66--><!--http://www.mocky.io/v2/5d6d04463000005f008fb9ae-->
                <args>
                    <arg type="path" id="url">
                        <value type="parameter" parameterid="par_url_bizbus"/>
                    </arg>
                    <arg type="header" id="Content-Type">
                        <value type="value"><content>application/soap+xml;charset=UTF-8;action="http://group.vodafone.com/contract/vbs/subscription/subscription/v1/get-list"</content></value>
                    </arg>
                    <arg type="header" id="X-IBM-Client-Id">
                        <value type="parameter" parameterid="par_bizbus_clientid"/>
                    </arg>
                    <arg type="header" id="Connection">
                        <value type="value"><content>Keep-Alive</content></value>
                    </arg>
                    <!--DCL20220301 Se comenta debido a la actualizacion del bus, que hacia que nos llegara la respuesta con vacios y signos no habituales
                      <arg type="header" id="Accept-Encoding">
                        <value type="value"><content>gzip,deflate</content></value>
                    </arg>-->
                </args>
                <body contenttype="text">
                  <text>
                      <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:v1="http://group.vodafone.com/contract/vho/header/v1" xmlns:v11="http://group.vodafone.com/schema/vbm/subscription/subscription/v1" xmlns:v12="http://group.vodafone.com/schema/common/v1"><soap:Header xmlns:wsa="http://www.w3.org/2005/08/addressing">

                        <wsa:Action>http://group.vodafone.com/contract/vbs/subscription/subscription/v1/get-list</wsa:Action></soap:Header>
                           <soap:Body>
                              <v11:GetSubscriptionListVBMRequest>
                                 <v12:Criteria>
                                    <v12:QueryExpression>
                                       <v12:ValueExpression QueryOperatorCode="EQUALS" Path="/SubscriptionVBO/Parts/CustomerAccounts/CustomerAccount/IDs/ID@schemeName='ClientId'">
                                          <v12:Value>]]></content></value>
                                          <value type="parameter" parameterid="par_client_id"/>
                                          <value type="value"><content><![CDATA[</v12:Value>
                                       </v12:ValueExpression>
                                    </v12:QueryExpression>
                                 </v12:Criteria>
                                 <v12:Identification>
                                    <v12:Categories>
                                       <v12:Category name="Process">ConsultarServicios</v12:Category>
                                    </v12:Categories>
                                 </v12:Identification>
                              </v11:GetSubscriptionListVBMRequest>
                           </soap:Body>
                        </soap:Envelope>]]></content></value>
                  </text>
                </body>
                <response type="xml2json1"/>
              </endpoint>
           <!-- ARL20211126 - NUEVO ENDPOINT ZHILABS- INICIO -->
          <endpoint id="obtener_info_historica_serv" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>POST</method>
            <url ignoreSSL="true">{url}/ResourceInventoryREST/resourceInventory/search</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
                </arg>
                <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
                </arg>
                <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ObtenerHistoricoServicio</content></value>
                </arg>
                <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
                </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[
                {
                  "queries": [
                    {
                    "query": "$.id[schemeName='ServiceID'].value=]]></content></value><value type="parameter" role="front" parameterid="par_grc_service_id"/><value type="value"><content><![CDATA["
                    },
                    {
                    "query": "$.validityPeriod.fromDate.dateString.dateStringformat.value= ]]></content></value><value type="parameter" parameterid="par_timestamp_24h_before"/><value type="value"><content><![CDATA["
                    },
                    {
                    "query": "$.validityPeriod.toDate.dateString.dateStringformat.value= ]]></content></value><value type="parameter" parameterid="par_timestamp_now"/><value type="value"><content><![CDATA["
                    }
                  ]
                }]]]></content></value>
              </text>
            </body>
            <response type="json"/>
          </endpoint>
          <!-- ARL20211126 - NUEVO ENDPOINT ZHILABS - FIN -->
          <!-- ARL20220307 adaptaciones para la incorporacion de corporate fijo - INICIO   -->

          <!-- DCO20230921 - VBTS Schaman - Mejoras Fijo Fase 1 - INICIO -->
          <endpoint id="obtener_info_serv" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="20000">
            <method>GET</method>
            <url ignoreSSL="true">{url}/p-service-activation-management-pprd/api/service/{service_id}</url>
            <args>
              <arg type="path" id="url">
                  <value type="parameter" parameterid="par_url_mulesoft"/>
              </arg>
              <arg type="header" id="Accept">
                <value type="value"><content>*/*</content></value>
              </arg>
              <arg type="header" id="client_id">
                <value type="parameter" parameterid="par_mulesoft_clientid"/>
              </arg>
              <arg type="header" id="client_secret">
                <value type="parameter" parameterid="par_mulesoft_client_secret"/>
              </arg>
              <arg type="header" id="X-VF-API-Process">
                <value type="value"><content>GetTechnicalData</content></value>
              </arg>
              <arg type="header" id="X-VF-Origin-System">
                <value type="value"><content>SCHAMAN</content></value>
              </arg>
              <arg type="header" id="usuario">
                <value type="value"><content>SCHAMAN</content></value>
              </arg>
              <arg type="path" id="service_id">
                <value type="parameter" parameterid="par_service_id"/>
              </arg>
              <arg type="header" id="Content-Type">
                  <value type="value"><content>application/json</content></value>
                </arg>
              </args>
              <response type="json"/>
          </endpoint>
          <!-- DCO20230921 - VBTS Schaman - Mejoras Fijo Fase 1 - FIN -->
          <!-- DCO20230313 - TEMBO IAD - INICIO -->
          <endpoint id="get_device_iad" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>POST</method>
            <url ignoreSSL="true">{url}/ResourceConfigurationREST/resourceConfiguration/search</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
                </arg>
                <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
                </arg>
                <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>getDeviceIAD</content></value>
                </arg>
                <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
                </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[
                  {
                    "queries": [
                      {
                        "query": "$.id=]]></content></value><value type="parameter" role="front" parameterid="par_cdti_mac_cramer"/><value type="value"><content><![CDATA["
                      },
                      {
                        "query": "$.resource[*].extraId.[?(@schemeName=='ngin_track_id')].value=Schaman"
                      }
                    ]
                  }
                ]]></content></value>
              </text>
              <!-- <text>
                <value type="value"><content><![CDATA[
                  {
                    "queries": [
                      {
                        "query": "$.id=000413BCA934"
                      },
                      {
                        "query": "$.resource[*].extraId.[?(@schemeName=='ngin_track_id')].value=Schaman"
                      }
                    ]
                  }
                ]]></content></value>
              </text> -->
            </body>
            <response type="json"/>
          </endpoint>
          <!-- DCO20230313 - TEMBO IAD - FIN -->
          </endpoints>
      </troubleshoot>

            <!-- llamada uim_update_characteristic-->

      <action>
        <endpoints>
          <!--<endpoint id="uim_UP_remoteid" verbose="true" lazy="true" type="ws" connecttimeout="20000" requesttimeout="60000">
            <method>POST</method>
            <url ignoreSSL="true">{url}/UIM/UIM.svc</url>
            <args>
              <arg type="path" id="url">
                <value type="parameter" parameterid="par_url_biztalk"/>
              </arg>
              <arg type="header" id="Content-Type">
                <value type="value"><content>application/soap+xml;action="UpdateCharacteristic"</content></value>
              </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:ns="http://ServicesPlatform/UIM/1.0">
                   <soap:Header/>
                   <soap:Body>
                      <ns:UpdateCharacteristic>
                         <ns:Request>
                            <ns:serviceInformation>
                               <ns:timeStamp>2016-05-05 07:38:41.081</ns:timeStamp>
                               <ns:originSystem>Consolas</ns:originSystem>
                               <ns:conversationID>500</ns:conversationID>
                               <ns:messageID>04</ns:messageID>
                               <ns:repliesTo>01</ns:repliesTo>
                               <ns:action>Update</ns:action>
                            </ns:serviceInformation>
                            <ns:requestInformation>
                               <ns:requestData>
                                  <ns:RequestData>
                                     <ns:requestDataID>161</ns:requestDataID>
                                     <ns:criteriaData>
                                        <ns:attribute>
                                           <ns:Attribute>
                                              <ns:name>CBU EBU Compound Service.Service ID</ns:name>
                                              <ns:value>]]></content></value>
                              <value type="argument" argumentid="arg_cpe_service_id"/>
                              <value type="value"><content><![CDATA[</ns:value>
                                           </ns:Attribute>
                                        </ns:attribute>
                                     </ns:criteriaData>
                                     <ns:responseData>
                                        <ns:attribute>
                                           <ns:name>CBU EBU.NEBA FTTH Access.S-VLAN</ns:name>
                                           <ns:value>]]></content></value>
                              <value type="argument" argumentid="arg_svlan"/>
                              <value type="value"><content><![CDATA[</ns:value>
                                        </ns:attribute>
                                        <ns:attribute>
                                           <ns:name>CBU EBU.NEBA FTTH Access.C-VLAN</ns:name>
                                           <ns:value>]]></content></value>
                                    <value type="argument" argumentid="arg_cvlan"/>
                                    <value type="value"><content><![CDATA[</ns:value>
                                        </ns:attribute>
                                        <ns:attribute>
                                           <ns:name>CBU EBU.NEBA FTTH Access.OP-VLAN</ns:name>
                                           <ns:value>]]></content></value>
                                    <value type="argument" argumentid="arg_opvlan"/>
                                    <value type="value"><content><![CDATA[</ns:value>
                                        </ns:attribute>
                                     </ns:responseData>
                                  </ns:RequestData>
                               </ns:requestData>
                            </ns:requestInformation>
                         </ns:Request>
                      </ns:UpdateCharacteristic>
                   </soap:Body>
                </soap:Envelope>
                ]]></content></value>
              </text>
            </body>
            <response type="xml2json1"/>
          </endpoint>-->

          <endpoint id="uim_UP_remoteid" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="13000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <!--<arg type="header" id="X-VF-API-Debug">
                  <value type="value"><content>true</content></value>
               </arg>-->
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.S-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_svlan"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.C-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_cvlan"/>
                <!--<value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.PW'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_access_pw"/>--><!--FCS20210519_INC_332_2-->
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>



          <!--<endpoint id="uim_UP_scvlan" verbose="true" lazy="true" type="ws" connecttimeout="20000" requesttimeout="60000">
            <method>POST</method>
            <url ignoreSSL="true">{url}/UIM/UIM.svc</url>
            <args>
              <arg type="path" id="url">
                <value type="parameter" parameterid="par_url_biztalk"/>
              </arg>
              <arg type="header" id="Content-Type">
                <value type="value"><content>application/soap+xml;action="UpdateCharacteristic"</content></value>
              </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:ns="http://ServicesPlatform/UIM/1.0">
                   <soap:Header/>
                   <soap:Body>
                      <ns:UpdateCharacteristic>
                         <ns:Request>
                            <ns:serviceInformation>
                               <ns:timeStamp>2016-05-05 07:38:41.081</ns:timeStamp>
                               <ns:originSystem>Consolas</ns:originSystem>
                               <ns:conversationID>500</ns:conversationID>
                               <ns:messageID>04</ns:messageID>
                               <ns:repliesTo>01</ns:repliesTo>
                               <ns:action>Update</ns:action>
                            </ns:serviceInformation>
                            <ns:requestInformation>
                               <ns:requestData>
                                  <ns:RequestData>
                                     <ns:requestDataID>161</ns:requestDataID>
                                     <ns:criteriaData>
                                        <ns:attribute>
                                           <ns:Attribute>
                                              <ns:name>CBU EBU Compound Service.Service ID</ns:name>
                                              <ns:value>]]></content></value>
                              <value type="argument" argumentid="arg_cpe_service_id"/>
                              <value type="value"><content><![CDATA[</ns:value>
                                           </ns:Attribute>
                                        </ns:attribute>
                                     </ns:criteriaData>
                                     <ns:responseData>
                                        <ns:attribute>
                                           <ns:name>CBU EBU.NEBA FTTH Access.S-VLAN</ns:name>
                                           <ns:value>]]></content></value>
                              <value type="argument" argumentid="arg_svlan"/>
                              <value type="value"><content><![CDATA[</ns:value>
                                        </ns:attribute>
                                        <ns:attribute>
                                           <ns:name>CBU EBU.NEBA FTTH Access.C-VLAN</ns:name>
                                           <ns:value>]]></content></value>
                                    <value type="argument" argumentid="arg_cvlan"/>
                                    <value type="value"><content><![CDATA[</ns:value>
                                        </ns:attribute>
                                     </ns:responseData>
                                  </ns:RequestData>
                               </ns:requestData>
                            </ns:requestInformation>
                         </ns:Request>
                      </ns:UpdateCharacteristic>
                   </soap:Body>
                </soap:Envelope>
                ]]></content></value>
              </text>
            </body>
            <response type="xml2json1"/>
          </endpoint>-->


          <endpoint id="uim_UP_scvlan" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="18000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.S-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_svlan"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.C-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_cvlan"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='NEBA FTTH Access.PW'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_access_pw"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <!--<endpoint id="uim_up_nateable" verbose="true" lazy="true" type="ws" connecttimeout="20000" requesttimeout="60000">
            <method>POST</method>
            <url ignoreSSL="true">{url}/UIM/UIM.svc</url>
            <args>
              <arg type="path" id="url">
                <value type="parameter" parameterid="par_url_biztalk"/>
              </arg>
              <arg type="header" id="Content-Type">
                <value type="value"><content>application/soap+xml;action="UpdateCharacteristic"</content></value>
              </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:ns="http://ServicesPlatform/UIM/1.0">
                   <soap:Header/>
                   <soap:Body>
                      <ns:UpdateCharacteristic>
                         <ns:Request>
                            <ns:serviceInformation>
                               <ns:timeStamp>2016-05-05 07:38:41.081</ns:timeStamp>
                               <ns:originSystem>Consolas</ns:originSystem>
                               <ns:conversationID>500</ns:conversationID>
                               <ns:messageID>04</ns:messageID>
                               <ns:repliesTo>01</ns:repliesTo>
                               <ns:action>Update</ns:action>
                            </ns:serviceInformation>
                            <ns:requestInformation>
                               <ns:requestData>
                                  <ns:RequestData>
                                     <ns:requestDataID>161</ns:requestDataID>
                                     <ns:criteriaData>
                                        <ns:attribute>
                                           <ns:Attribute>
                                              <ns:name>CBU EBU Compound Service.Service ID</ns:name>
                                              <ns:value>]]></content></value>
                              <value type="argument" argumentid="arg_cpe_service_id"/>
                              <value type="value"><content><![CDATA[</ns:value>
                                           </ns:Attribute>
                                        </ns:attribute>
                                     </ns:criteriaData>
                                     <ns:responseData>
                                        <ns:attribute>
                                           <ns:name>S.I. INET.NATeable</ns:name>
                                           <ns:value>]]></content></value>
                              <value type="argument" argumentid="arg_nateable"/>
                              <value type="value"><content><![CDATA[</ns:value>
                                        </ns:attribute>
                                     </ns:responseData>
                                  </ns:RequestData>
                               </ns:requestData>
                            </ns:requestInformation>
                         </ns:Request>
                      </ns:UpdateCharacteristic>
                   </soap:Body>
                </soap:Envelope>
                ]]></content></value>
              </text>
            </body>
            <response type="xml2json1"/>
          </endpoint>-->


          <!--DBC_INCX_010_3_INICIO_Se modifica y duplica acción nateable fecha no_inc-->
          <endpoint id="uim_up_nateable_fecha_no_inc" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="5000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.NATeable'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable"/>
                <!--DBC_INCX_010_3_Se quita ya que se actualiza la fecha en automático-->
                <!--<value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.NATeable Date'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable_date"/>-->
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <endpoint id="uim_up_nateable_fecha_no_inc_ftth" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="17000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.NATeable'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable"/>
                <!--DBC_INCX_010_3_Se quita ya que se actualiza la fecha en automático-->
                <!--<value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET FTTH.NATeable Date'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable_date"/>-->
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>
          <!--DBC_INCX_010_3_INICIO_Se modifica y duplica acción nateable fecha no_inc-->

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para nateable-->
          <endpoint id="uim_up_nateable_fecha" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="4000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.NATeable'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable"/>
                <!--DBC_INCX_010_3_Se quita ya que se actualiza la fecha en automático-->
                <!--<value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.NATeable Date'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable_date"/>-->
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <endpoint id="uim_up_nateable_fecha_ftth" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="4000"><!--CCA20220531 - Cambia el valor de requesttimeout-->
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.NATeable'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable"/>
                <!--DBC_INCX_010_3_Se quita ya que se actualiza la fecha en automático-->
                <!--<value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET FTTH.NATeable Date'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_nateable_date"/>-->
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para kaltura-->
          <endpoint id="uim_UP_kaltura" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='S.I. IPTV.Kaltura Domain ID'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_kaltura_domain_id"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='S.I. IPTV.Kaltura Site GUID'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_kaltura_site_guid"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>
	
          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para NEBA FTTH Access.PW 
          <endpoint id="uim_UP_remoteid_nuevo" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='NEBA FTTH Access.PW'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_access_pw"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.S-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_svlan"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.C-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_cvlan"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.NEBA FTTH Access.OP-VLAN'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_opvlan"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>-->

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para CPE Router.VoIP Port Configured -->
          <endpoint id="uim_UP_voip_port_configured" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <!--DBC_INC_332_2_08062021_Se elimina parametro par_notes tras arreglo del bus-->
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CPE Router.VoIP Port Configured'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_voip_port_configured"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <!--DBC_20210310_INC_332_2_Se comenta porque no aplica según reunión con Iñigo 11062021
          <endpoint id="uim_UP_mta_port_configured" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.MTA SIP.VoIP Port Configured'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_mta_port_configured"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>-->

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para VDSL2 YES -->
          <endpoint id="uim_UP_vdsl_yes" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <!--DBC_INC_332_2_08062021_Se elimina parametro par_notes tras arreglo del bus-->
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.Direct Access.VDSL2'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_vdsl2_yes"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
            <response type="json"/>
          </endpoint>

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para DSLAM_TEMPLATE -->
          <endpoint id="uim_UP_dslam_template" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <!--DBC_INC_332_2_08062021_Se elimina parametro par_notes tras arreglo del bus-->
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.Direct Access.DSLAM Template'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_vdsl2_dslam_template"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para S.I. INET.IPv4 Address -->
          <endpoint id="uim_UP_ip_fija" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <!--DBC_INC_332_2_08062021_Se elimina parametro par_notes tras arreglo del bus-->
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.IPv4 Address'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_ip_fija"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <!--DBC_20210310_INC_332_2_Nuevos CR y req VF Actualizar inventario para S.I. INET.Dynamic IP-->
          <endpoint id="uim_UP_ip_dinamica" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <!--DBC_INC_332_2_08062021_Se elimina parametro par_notes tras arreglo del bus-->
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CBU EBU.S.I. INET.Dynamic IP'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_ip_dinamica"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <endpoint id="uim_UP_generico" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <!--<arg type="header" id="X-VF-API-Debug">
                  <value type="value"><content>true</content></value>
               </arg>-->
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <!--DBC_INC_332_2_08062021_Se elimina parametro par_notes tras arreglo del bus-->
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName=']]></content></value>
                <value type="argument" argumentid="arg_parametro"/>
                <value type="value"><content><![CDATA['].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_valor"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
             <response type="json"/>
          </endpoint>

          <endpoint id="actualizar_cmcpe_mac_tap_item" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <!--<arg type="header" id="X-VF-API-Debug">
                  <value type="value"><content>true</content></value>
               </arg>-->
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas--><!-- HFC Access.TAP, CPE CM.HFC MAC, CPE CM.Item-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='HFC Access.TAP'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_tap"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CPE CM.HFC MAC'].value","value": {"value": "]]]></content></value>
                <value type="argument" argumentid="arg_hfc_mac"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='CPE CM.Item'].value","value": {"value": "]]]></content></value>
                <value type="argument" argumentid="arg_item"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
            <response type="json"/>
          </endpoint>

          <endpoint id="actualizar_mta_mac_tap_item" verbose="true" lazy="true" type="ws" connecttimeout="30000" requesttimeout="40000">
            <method>PATCH</method>
            <url ignoreSSL="true">{url}ServiceConfigurationREST/serviceConfiguration/{service_id}</url>
            <args>
                <arg type="path" id="url">
                    <value type="parameter" parameterid="par_url_bizbus"/>
                </arg>
                <arg type="path" id="service_id">
                    <value type="parameter" role="front" parameterid="par_grc_service_id"/>
                </arg>
                <arg type="header" id="Accept">
                  <value type="value"><content>*/*</content></value>
               </arg>
               <arg type="header" id="X-IBM-Client-Id">
                  <value type="parameter" parameterid="par_bizbus_clientid"/>
               </arg>
               <!--<arg type="header" id="X-VF-API-Debug">
                  <value type="value"><content>true</content></value>
               </arg>-->
               <arg type="header" id="X-VF-API-Process">
                  <value type="value"><content>ActualizarInventario</content></value>
               </arg>
               <arg type="header" id="Content-Type">
                    <value type="value"><content>application/json</content></value>
               </arg>
            </args>
            <body contenttype="text">
              <text>
                <value type="value"><content><![CDATA[[{"op": "replace","path": "$.parts.specification.id[schemeName='requestDataID'].value","value": {"value": "]]></content></value>
                <value type="parameter" parameterid="par_request_data_id"/><!--DBC_20201118__Revisar parametro parseado para pruebas--><!-- HFC Access.TAP, MTA SIP.MTA MAC, MTA SIP.CPE MAC, MTA SIP.HFC MAC, MTA SIP.Item-->
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='HFC Access.TAP'].value","value": {"value": "]]></content></value>
                <value type="argument" argumentid="arg_tap"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='MTA SIP.MTA MAC'].value","value": {"value": "]]]></content></value>
                <value type="argument" argumentid="arg_mta_mac"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='MTA SIP.CPE MAC'].value","value": {"value": "]]]></content></value>
                <value type="argument" argumentid="arg_cpe_mac"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='MTA SIP.HFC MAC'].value","value": {"value": "]]]></content></value>
                <value type="argument" argumentid="arg_hfc_mac"/>
                <value type="value"><content><![CDATA["}},{"op": "replace","path": "$.parts.specification.characteristicsValue[characteristicName='MTA SIP.Item'].value","value": {"value": "]]]></content></value>
                <value type="argument" argumentid="arg_item"/>
                <value type="value"><content><![CDATA["}}]]]></content></value>
              </text>
            </body>
            <response type="json"/>
          </endpoint>

        </endpoints>
      </action>
    </connectivity>

    <parameters>

        <!-- ENDPOINT REQUEST PARAMETERS -->
          <parameter id="par_url_biztalk">
                <contents>
                  <value type="lookup">url_list</value>
                </contents>
                <sequence>
                  <operation type="row_delimiter">
                    <args><arg><value type="value">;</value></arg></args>
                  </operation>
                  <operation type="column_delimiter">
                    <args><arg><value type="value">,</value></arg></args>
                  </operation>
                  <operation type="column_index">
                    <args><arg><value type="value">1</value></arg></args>
                  </operation>
                  <operation type="column_equal">
                    <args><arg><value type="value">url_biztalk</value></arg></args>
                  </operation>
                  <operation type="column_selector">
                    <args><arg><value type="value">2</value></arg></args>
                  </operation>
                </sequence>
            </parameter>

            <parameter id="par_url_bizbus">
                <contents>
                  <value type="lookup">url_list</value>
                </contents>
                <sequence>
                  <operation type="row_delimiter">
                    <args><arg><value type="value">;</value></arg></args>
                  </operation>
                  <operation type="column_delimiter">
                    <args><arg><value type="value">,</value></arg></args>
                  </operation>
                  <operation type="column_index">
                    <args><arg><value type="value">1</value></arg></args>
                  </operation>
                  <operation type="column_equal">
                    <args><arg><value type="value">url_bizbus</value></arg></args>
                  </operation>
                  <operation type="column_selector">
                    <args><arg><value type="value">2</value></arg></args>
                  </operation>
                </sequence>
            </parameter>
            <!-- ARL20211126 - NUEVO ENDPOINT ZHILABS- INICIO -->
            <parameter id="par_url_zhilabs">
                <contents>
                  <value type="lookup">url_list</value>
                </contents>
                <sequence>
                  <operation type="row_delimiter">
                    <args><arg><value type="value">;</value></arg></args>
                  </operation>
                  <operation type="column_delimiter">
                    <args><arg><value type="value">,</value></arg></args>
                  </operation>
                  <operation type="column_index">
                    <args><arg><value type="value">1</value></arg></args>
                  </operation>
                  <operation type="column_equal">
                    <args><arg><value type="value">url_zhilabs</value></arg></args>
                  </operation>
                  <operation type="column_selector">
                    <args><arg><value type="value">2</value></arg></args>
                  </operation>
                </sequence>
            </parameter>
            <!-- ARL20211126 - NUEVO ENDPOINT ZHILABS- FIN -->
            <parameter id="par_bizbus_clientid">
                <contents>
                  <value type="lookup">url_list</value>
                </contents>
                <sequence>
                  <operation type="row_delimiter">
                    <args><arg><value type="value">;</value></arg></args>
                  </operation>
                  <operation type="column_delimiter">
                    <args><arg><value type="value">,</value></arg></args>
                  </operation>
                  <operation type="column_index">
                    <args><arg><value type="value">1</value></arg></args>
                  </operation>
                  <operation type="column_equal">
                    <args><arg><value type="value">url_bizbus</value></arg></args>
                  </operation>
                  <operation type="column_selector">
                    <args><arg><value type="value">3</value></arg></args>
                  </operation>
                </sequence>
            </parameter>

            <!-- Valor introducido para lanzar el trb -->
            <parameter id="par_service_id" type="value" name="ID Servicio">
                <contents>
                  <value type="context">ipt_service_id</value>
                </contents>
                <!--<sequence>-->
                    <!-- TODO Remplazar por la operacion trim a futuro -->
                   <!-- <operation type="replace_pattern">
                        <args><arg><value type="value">^[\t ]*@to@</value></arg></args>
                    </operation>
                    <operation type="replace_pattern">
                        <args><arg><value type="value">[\t ]*$@to@</value></arg></args>
                    </operation>
                    <operation type="to_upper_case"/>
                </sequence> Al anadir client_id tenemos que eliminar esta validacion para que funcione--> 
            </parameter>
            <!-- PABLO -->
            <parameter id="par_type_id" type="value">
                <contents>
                <value type="context">ipt_service_type</value>
                </contents>
            </parameter>





            <!--<parameter id="par_cliente_id" type="value" name="ID Cliente">         
                <contents>
                  <value type="context">ipt_service_id</value>
                </contents>
            </parameter>-->

           <!-- <parameter id="par_campo_serviceid" type="value">     
              <contents>                                        
                <value type="parameter">par_service_id</value>  
              </contents>
              <sequence>
                <operation type="remove_pattern">
                  <args>
                    <arg>
                      <value type="value">unknown</value>
                    </arg>
                  </args>
                </operation>
                <operation type="replace_pattern">
                  <args>
                    <arg>
                      <value type="value">[a-z,A-Z,0-9]+@to@CBU EBU Compound Service.Service ID</value>
                    </arg>
                  </args>
                </operation>
              </sequence>
            </parameter>-->

           <!-- <parameter id="par_campo_serviceid_llamada" type="value">     
              <contents>                                        
                <value type="parameter">par_service_id</value>  
              </contents>
              <sequence>
                <operation type="remove_pattern">
                  <args>
                    <arg>
                      <value type="value">unknown</value>
                    </arg>
                  </args>
                </operation>
                <operation type="replace_pattern">
                  <args>
                    <arg>
                      <value type="value">[a-z,A-Z,0-9]+@to@QUERY</value>
                    </arg>
                  </args>
                </operation>
              </sequence>
            </parameter>-->
            <!--<parameter id="par_campo_siteid" type="value">    
              <contents>                                      
                <value type="parameter">par_cliente_id</value> 
              </contents>
              <sequence>
                <operation type="remove_pattern">
                  <args>
                    <arg>
                      <value type="value">unknown</value>
                    </arg>
                  </args>
                </operation>
                <operation type="replace_pattern">
                  <args>
                    <arg>
                      <value type="value">[a-z,A-Z,0-9]+@to@SiteID</value>
                    </arg>
                  </args>
                </operation>
              </sequence>
            </parameter>-->
            <!--<parameter id="par_campo_siteid_llamada" type="value">    
              <contents>                                      
                <value type="parameter">par_cliente_id</value> 
              </contents>
              <sequence>
                <operation type="remove_pattern">
                  <args>
                    <arg>
                      <value type="value">unknown</value>
                    </arg>
                  </args>
                </operation>
                <operation type="replace_pattern">
                  <args>
                    <arg>
                      <value type="value">[0-9]+@to@QUERY_TV</value>
                    </arg>
                  </args>
                </operation>
              </sequence>
            </parameter>-->
            <parameter id="par_campo_generico" type="value">    
              <contents>                                      
                <value type="parameter">par_type_id</value> 
              </contents>
              <sequence>
                <operation type="replace_pattern">
                  <args>
                    <arg>
                      <value type="value">siteid@to@SiteID</value>
                    </arg>
                  </args>
                </operation>
                <operation type="replace_pattern">
                  <args>
                    <arg>
                      <value type="value">serviceid@to@CBU EBU Compound Service.Service ID</value>
                    </arg>
                  </args>
                </operation>
              </sequence>
            </parameter>

            <parameter id="par_campo_generico_llamada" type="value">  
              <contents>  
                <value type="value">QUERY_TV</value><!--DBC_Cambiado de QUERY_TV--><!-- PCA Se cambia a query_tv -->
              </contents>                            
            </parameter> 

            <!--<parameter id="par_site_service" type="value">
                <contents>
                    <value type="context">ipt_service_id</value>
                </contents>
            </parameter>-->


            <!--<parameter id="par_site_service" name="">
              <contents>                                              
                <value type="parameter">par_service_id</value>
                <value type="parameter">par_cliente_id</value>
              </contents>
              <sequence>
                <operation type="remove_pattern">
                  <args>
                    <arg>
                      <value type="value">unknown</value>
                    </arg>
                  </args>
                </operation>
              </sequence>
            </parameter>-->

            <parameter id="par_service_id_front" name="Service_id">
              <contents>                                              
                <value type="parameter" role="front">par_grc_service_id</value>
              </contents>
              <sequence>
                <!-- TODO Remplazar por la operacion trim a futuro -->
                <operation type="replace_pattern">
                  <args><arg><value type="value">^[\t ]*@to@</value></arg></args>
                </operation>
                <operation type="replace_pattern">
                  <args><arg><value type="value">[\t ]*$@to@</value></arg></args>
                </operation>
                <operation type="to_upper_case"/>
              </sequence>
            </parameter>
            

            <!--PABLO -->

            <parameter id="par_client_id" type="value" name="ID Cliente">
                <contents>
                  <value type="parameter" role="front">par_customer_crmid</value>
                </contents>
            </parameter>


            <parameter id="par_grc_http_code" type="value">
                <contents>
                  <value type="infosource_value" endpointid="GRC">_httpCode</value>
                </contents> 
            </parameter>

            <!--DBC_valor parseado hasta saber donde apuntar-->
            <parameter id="par_request_data_id">
              <!-- <contents>
                <value type="value">161</value>
              </contents> -->
              <!--TML20211122 - necesidad de considerar diferentes requestIDs-->
              <contents>
                <value type="localtimestamp"></value>
              </contents>
              <sequence>
                <operation type="replace_pattern">
                  <args><arg><value type="value">(.....)(.*)@to@$1</value></arg></args>
                </operation>
              </sequence>
            </parameter>

            <!--DBC_20210312_INC_332_2_Nuevos CR y req VF Actualizar inventario VDSL2 YES-->
            <parameter id="par_vdsl2_yes">
              <contents>
                <value type="value">YES</value>
              </contents>
            </parameter>

            <!--DBC_20210312_INC_332_2_Nuevos CR y req VF Actualizar inventario VDSL2 NO-->
            <parameter id="par_vdsl2_no">
              <contents>
                <value type="value">NO</value>
              </contents>
            </parameter>

            <!--DBC_20210312_Parametro para actualizar el campo notes de prueba hasta que arregle bus API-->
            <parameter id="par_notes">
              <contents>
                <value type="value">PRUEBA</value>
              </contents>
            </parameter>

            <!-- ARL20211126 - NUEVO ENDPOINT - INICIO -->
            <parameter id="par_timestamp_24h_before_aux" type="value">
              <contents>
                <value type="localtimestamp"></value>
              </contents>
              <sequence>
                <operation type="subtract_value">
                  <args><arg><value type="value">86400000</value></arg></args>
                </operation>
                <operation type="parse_timestamp">
                  <args><arg><value type="value">yyyyMMddHH</value></arg></args>
                </operation>
              </sequence>
            </parameter>

            <parameter id="par_timestamp_24h_before" type="value">
              <contents>
                <value type="parameter">par_timestamp_24h_before_aux</value>
                <value type="value">00</value>
              </contents>
            </parameter>

            <parameter id="par_timestamp_now_aux" type="value">
              <contents>
                <value type="localtimestamp"></value>
              </contents>
              <sequence>
                <operation type="parse_timestamp">
                  <args><arg><value type="value">yyyyMMddHH</value></arg></args>
                </operation>
              </sequence>
            </parameter>

            <parameter id="par_timestamp_now" type="value">
              <contents>
                <value type="parameter">par_timestamp_now_aux</value>
                <value type="value">00</value>
              </contents>
            </parameter>
            <!-- ARL20211126 - NUEVO ENDPOINT - FIN -->

            <!-- CAD20231004 - VBTS Mejoras Fijo Fase 1 - INICIO -->
            <parameter id="par_url_mulesoft">
              <contents>
                <value type="lookup">url_list</value>
              </contents>
              <sequence>
                <operation type="row_delimiter">
                  <args><arg><value type="value">;</value></arg></args>
                </operation>
                <operation type="column_delimiter">
                  <args><arg><value type="value">,</value></arg></args>
                </operation>
                <operation type="column_index">
                  <args><arg><value type="value">1</value></arg></args>
                </operation>
                <operation type="column_equal">
                  <args><arg><value type="value">url_mulesoft</value></arg></args>
                </operation>
                <operation type="column_selector">
                  <args><arg><value type="value">2</value></arg></args>
                </operation>
              </sequence>
            </parameter>

            <parameter id="par_mulesoft_header" type="table">
              <contents>
                <value type="lookup">auth_mulesoft</value>
              </contents>
              <sequence>
                <operation type="row_delimiter">
                  <args><arg><value type="value">;</value></arg></args>
                </operation>
                <operation type="column_delimiter">
                  <args><arg><value type="value">,</value></arg></args>
                </operation>
              </sequence>
            </parameter>

            <parameter id="par_mulesoft_clientid" type="value">
              <contents>
                <value type="parameter">par_mulesoft_header</value>
              </contents>
              <sequence>
                <operation type="column_selector">
                  <args><arg><value type="value">1</value></arg></args>
                </operation>
                <operation type="first_row">
                  <args><arg><value type="value">2</value></arg></args>
                </operation>
              </sequence>
            </parameter>

            <parameter id="par_mulesoft_client_secret" type="value">
              <contents>
                <value type="parameter">par_mulesoft_header</value>
              </contents>
              <sequence>
                <operation type="column_selector">
                  <args><arg><value type="value">2</value></arg></args>
                </operation>
                <operation type="first_row">
                  <args><arg><value type="value">2</value></arg></args>
                </operation>
              </sequence>
            </parameter>
            <!-- CAD20231004 - VBTS Mejoras Fijo Fase 1 - FIN -->

    </parameters>
    <checks>
      <check id="chk_grc_http_code_ok">
          <parameter>par_grc_http_code</parameter>
          <result>
              <expr type="and">
                  <operation type="not_equal">
                      <args><arg><value type="value">unknown</value></arg></args>

                  </operation>
            <operation type="greater_or_equal">
              <args><arg><value type="value">200</value></arg></args>
            </operation>
            <operation type="lower">
              <args><arg><value type="value">300</value></arg></args>
            </operation>
          </expr>
          </result>
      </check>


    </checks>

</template>



      
