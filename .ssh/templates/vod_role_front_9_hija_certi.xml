<?xml version='1.0' encoding='UTF-8'?>
<template role="front" parent="role_front" version="3.1" type="role">

    <!-- ################################################################################ -->
    <!-- ##########################   PARAMETROS ######################################## -->
    <!-- ################################################################################ -->

    <parameters>
		<parameter id="par_gsl_subscriptions_swint_aux" type="value">
		  	<contents>
                <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
		  	</contents>
		  	<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">SWINT</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
		  	</sequence>
		</parameter> 
		<parameter id="par_gsl_exott" type="value">
			<contents>
				<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
		  	<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">EXOTT</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
				<operation type="number_of_rows"/>
		  	</sequence>
		</parameter>
		
		<!-- DVA20240618 - Pruebas GSOL -->
		<!-- <parameter id="par_gsl_subscriptions_exott_aux" type="table">
			<contents>
				<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
		  	<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">EXOTT</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
		  	</sequence>
		</parameter> -->
		<parameter id="par_gsl_subscriptions_exott_aux" type="table">
			<contents>
			<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
			<operation type="header_selector">
				<args><arg><value type="value">##;###;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
			</operation>
			<operation type="column_index">
				<args><arg><value type="value">1</value></arg></args>
			</operation>
			<operation type="column_in_param">
				<args><arg><value type="parameter">par_gsl_subscriptions_exott_indexes</value></arg></args>
			</operation>
			<operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			</operation>
			<operation type="column_equal">
				<args><arg><value type="value">serialNumber</value></arg></args>
			</operation>
			<operation type="column_selector">
				<args><arg><value type="value">4</value></arg></args>
			</operation>
			</sequence>
		</parameter>
		<parameter id="par_gsl_supwi" type="value">
		  <contents>
                <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
		  </contents>
		  <sequence>
			<operation type="header_selector">
				<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
			</operation>
			<operation type="column_index">
				<args><arg><value type="value">1</value></arg></args>
			</operation>
			<operation type="column_equal">
				<args><arg><value type="value">SUPWI</value></arg></args>
			</operation>
			<operation type="unique_rows"/>
			<operation type="number_of_rows"/>
		  </sequence>
		</parameter> 
		<parameter id="par_gsl_extin" type="value">
			<contents>
                <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
		  	</contents>
			<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">EXTIN</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
				<operation type="number_of_rows"/>
			</sequence>
		</parameter>
		<!-- DVA20240618 - Pruebas GSOL -->
		<!-- <parameter id="par_gsl_subscriptions_extin" type="table">
			<contents>
                <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
		  	</contents>
			<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">EXTIN</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
			</sequence>
		</parameter> -->
		<parameter id="par_gsl_subscriptions_extin" type="table">
			<contents>
			  <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
			  <operation type="header_selector">
				<args><arg><value type="value">##;###;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">1</value></arg></args>
			  </operation>
			  <operation type="column_in_param">
				<args><arg><value type="parameter">par_gsl_subscriptions_extin_indexes</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			  </operation>
			  <operation type="column_equal">
				<args><arg><value type="value">serialNumber</value></arg></args>
			  </operation>
			  <operation type="column_selector">
				<args><arg><value type="value">4</value></arg></args>
			  </operation>
			</sequence>
		  </parameter>
		<parameter id="par_gsl_supw6" type="value">
			<contents>
				<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">SUPW6</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
				<operation type="number_of_rows"/>
			</sequence>
		</parameter>
		<parameter id="par_gsl_exten" type="value">
			<contents>
				<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
				<operation type="header_selector">
					<args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
				</operation>
				<operation type="column_index">
					<args><arg><value type="value">1</value></arg></args>
				</operation>
				<operation type="column_equal">
					<args><arg><value type="value">EXTEN</value></arg></args>
				</operation>
				<operation type="unique_rows"/>
				<operation type="number_of_rows"/>
			</sequence>
		</parameter>
		<!-- DVA20240618 - Pruebas GSOL -->
		<!-- <parameter id="par_gsl_subscriptions_exten" type="table">
              <contents>
                <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
              </contents>
              <sequence>
                <operation type="header_selector">
                    <args><arg><value type="value">vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.vbo:OneOffPrices.vbo:OneOffPrice.vbo:Characteristics.vbo:CharacteristicsValue.comm:Value.content</value></arg></args>
                </operation>
                <operation type="column_index">
                    <args><arg><value type="value">2</value></arg></args>
                </operation>
                <operation type="column_equal">
                    <args><arg><value type="value">serialNumber</value></arg></args>
                </operation>
                <operation type="column_index">
                    <args><arg><value type="value">3</value></arg></args>
                </operation>
                <operation type="column_in_param">
                    <args><arg><value type="parameter">par_subscriptions_mac_cpe_lookup</value></arg></args>
                </operation>
                <operation type="column_selector">
                    <args><arg><value type="value">1</value></arg></args>
                </operation>
              </sequence>
		</parameter> -->

		<parameter id="par_gsl_subscriptions_exten" type="table">
			<contents>
			  <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
			  <operation type="header_selector">
				<args><arg><value type="value">##;###;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">1</value></arg></args>
			  </operation>
			  <operation type="column_in_param">
				<args><arg><value type="parameter">par_gsl_subscriptions_exten_indexes</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			  </operation>
			  <operation type="column_equal">
				<args><arg><value type="value">serialNumber</value></arg></args>
			  </operation>
			  <operation type="column_selector">
				<args><arg><value type="value">4</value></arg></args>
			  </operation>
			</sequence>
		  </parameter>
		  
		<!-- DVA20240614 - Pruebas GSOL - INICIO -->
		<parameter id="par_service_status" name="Estado">
			<contents>
			  <value type="parameter">par_grc_base_table</value>
			</contents>
			<sequence>
			  <operation type="column_index">
				  <args><arg><value type="value">1</value></arg></args>
			  </operation>
			  <operation type="column_equal">
				  <args><arg><value type="value">CBU EBU Compound Service.Status</value></arg></args>
			  </operation>
			  <operation type="column_selector">
				  <args><arg><value type="value">2</value></arg></args>
			  </operation>
			</sequence>
		</parameter>

		  
		<parameter id="par_client_id" type="value" name="ID Cliente">
			<contents>
			<value type="parameter">par_customer_crmid</value>
			</contents>
		</parameter>

		<parameter id="par_customer_crmid" name="ID de cliente en el CRM">
			<contents>
			<value type="parameter">par_grc_base_table</value>
			</contents>
			<sequence>
			<operation type="column_index">
				<args><arg><value type="value">1</value></arg></args>
			</operation>
			<operation type="column_equal">
				<args><arg><value type="value">Customer.CRM ID</value></arg></args>
			</operation>
			<operation type="column_selector">
				<args><arg><value type="value">2</value></arg></args>
			</operation>
			</sequence>
		</parameter>

		  <parameter id="par_grc_base_table" type="table">
			<contents>
			  <value type="infosource_table" infosource="front" endpointid="GRC">s:Envelope.s:Body.</value>
			</contents>
			<sequence>
			  <operation type="column_index">
				<args><arg><value type="value">2</value></arg></args>
			  </operation>
			  <operation type="replace_pattern">
				<args><arg><value type="value">v2:GetResourceConfigurationListVBMResponse.v2:ResourceConfigurationVBO.v21:Characteristics.v21:Characteristic.CharacteristicsValue.@to@</value></arg></args>
			  </operation>
			  <operation type="replace_pattern">
				<args><arg><value type="value">GetResourceConfigurationListVBMResponse.ResourceConfigurationVBO.Parts.Specification.CharacteristicsValue.@to@</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			  </operation>
			  <operation type="replace_pattern">
				<args><arg><value type="value">v2:GetResourceConfigurationListVBMResponse.v2:ResourceConfigurationVBO.v21:Characteristics.v21:Characteristic.CharacteristicsValue.@to@</value></arg></args>
			  </operation>
			  <operation type="replace_pattern">
				<args><arg><value type="value">GetResourceConfigurationListVBMResponse.ResourceConfigurationVBO.Parts.Specification.CharacteristicsValue.@to@</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">1</value></arg></args>
			  </operation>
			 <operation type="ignore_header">
			   <args><arg><value type="value">true</value></arg></args>
			 </operation>
			 <operation type="order_num">
			   <args><arg><value type="value">asc</value></arg></args>
			 </operation>
			  <operation type="header_selector">
				  <args><arg><value type="value">characteristicName;Value</value></arg></args>
			  </operation>
			</sequence>
		  </parameter>

		<!-- DVA20240614 - Pruebas GSOL - FIN -->
		<!-- DVA20240618 - Pruebas GSOL - INICIO -->
		
		<parameter id="par_gsl_subscriptions_exott_indexes" type="table">
			<contents>
			<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
			<operation type="header_selector">
				<args><arg><value type="value">##;###;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.vbo:OneOffPrices.vbo:OneOffPrice.vbo:Characteristics.vbo:CharacteristicsValue.comm:Value.content</value></arg></args>
			</operation>
			<operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			</operation>
			<operation type="column_equal">
				<args><arg><value type="value">EXOTT</value></arg></args>
			</operation>
			<operation type="column_selector">
				<args><arg><value type="value">1</value></arg></args>
			</operation>
			</sequence>
		</parameter>

		<parameter id="par_gsl_subscriptions_extin_indexes" type="table">
			<contents>
			<value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
			<operation type="header_selector">
				<args><arg><value type="value">##;###;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.vbo:OneOffPrices.vbo:OneOffPrice.vbo:Characteristics.vbo:CharacteristicsValue.comm:Value.content</value></arg></args>
			</operation>
			<operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			</operation>
			<operation type="column_equal">
				<args><arg><value type="value">EXTIN</value></arg></args>
			</operation>
			<operation type="column_selector">
				<args><arg><value type="value">1</value></arg></args>
			</operation>
			</sequence>
		</parameter>

		<parameter id="par_gsl_subscriptions_exten_indexes" type="table">
			<contents>
			  <value type="infosource_table" infosource="front" endpointid="GSOL">soap:Envelope.soap:Body.vbm:GetSalesOrderListVBMResponse.vbm:SalesOrderVBO.</value>
			</contents>
			<sequence>
			  <operation type="header_selector">
				<args><arg><value type="value">##;###;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.content;vbo:Parts.vbo:LineItems.vbo:LineItem.comm:IDs.comm:ID.schemeName;vbo:Parts.vbo:LineItems.vbo:LineItem.vbo:OneOffPrices.vbo:OneOffPrice.vbo:Characteristics.vbo:CharacteristicsValue.comm:Value.content</value></arg></args>
			  </operation>
			  <operation type="column_index">
				<args><arg><value type="value">3</value></arg></args>
			  </operation>
			  <operation type="column_equal">
				<args><arg><value type="value">EXTEN</value></arg></args>
			  </operation>
			  <operation type="column_selector">
				<args><arg><value type="value">1</value></arg></args>
			  </operation>
			</sequence>
		  </parameter>
		<!-- DVA20240618 - Pruebas GSOL - FIN -->

		 <!-- DVA20240820 - CERTIFICACION WIFI - INICIO -->
		 <parameter id="par_superwifi_technology" type="value">
			<contents>
			  <value type="parameter">par_gsl_supwi</value>
			  <value type="value">_</value>
			  <value type="parameter">par_gsl_supw6</value>
			</contents>
			<sequence>
			  <operation type="replace_pattern">
				<args><arg><value type="value">^1_0$@to@Super WiFi 5 Plume</value></arg></args>
			  </operation>
			  <operation type="replace_pattern">
				<args><arg><value type="value">^0_1$@to@Super WiFi 6 AirTies</value></arg></args>
			  </operation>
			  <operation type="replace_pattern">
				<args><arg><value type="value">^(0_0|unknown|0_unknown|unknown_0|unknown_unknown)$@to@</value></arg></args>
			  </operation>
			</sequence>
		</parameter>
		<!-- DVA20240820 - CERTIFICACION WIFI - FIN -->
    </parameters>

	<tests>
        <test id="tst_template">
            <expr type="and">
				<reference type="check" id="chk_service_status_pdteinstalar_aux"/>
            </expr>
        </test>
	</tests>
	<checks>
		<!-- DVA20240614 - Pruebas GSOL - INICIO -->
		<check id="chk_service_status_pdteinstalar_aux">
			<parameter>par_service_status</parameter>
			<result>
				<expr type="or">
					<operation type="equal">
						<args><arg><value type="value">Pend de Instalar</value></arg></args>
					</operation>
					<operation type="equal">
						<args><arg><value type="value">Pend de Cambio</value></arg></args>
					</operation>
					<operation type="equal">
						<args><arg><value type="value">PENDING</value></arg></args>
					</operation>
				</expr>
			</result>
		</check>
		<!-- DVA20240614 - Pruebas GSOL - FIN -->
	</checks>
	<actions>
	</actions>
</template>
