<?xml version='1.0' encoding='UTF-8'?>
<template infosource="qt" type="infosource" version="2.0">

    <!-- ############################################################################################## -->
    <!-- Version 1.3                                                                                    -->
    <!--                                                           										-->
    <!--  - Version de partida en la migraciÃ³n a version 9 												-->
    <!-- 							                                                      				-->
    <!-- ############################################################################################## -->

    <connectivity>
	    <troubleshoot>
	        <endpoints>
	            <endpoint id="olt_OIQT" verbose="true" lazy="true" type="ws" connecttimeout="20000" requesttimeout="4000"><!--CCA20220601 - Cambio en el valor de requesttimeout-->
	                <method>GET</method>
	                <url ignoreSSL="true">{url}/ServiceConfigurationREST/serviceConfiguration/{serviceid}</url>
	                <args>
	                	<arg type="path" id="url">
                            <value type="parameter" parameterid="par_url_bus"/>
                        </arg>
                        <arg type="path" id="serviceid">
                            <value type="parameter" parameterid="par_service_id"/>
                        </arg>
						<arg type="header" id="Accept">
							<value type="value"><content>application/json</content></value>
						</arg>
						<arg type="header" id="X-IBM-Client-Id">
							<value type="parameter" parameterid="par_bus_clientid"/>
						</arg>
						<arg type="header" id="X-VF-API-Process">
							<value type="value"><content>Obtener_informacion_QT</content></value>
						</arg>
						<!--<arg type="header" id="X-VF-API-Mock">
							<value type="value"><content>001</content></value>
						</arg>-->
						<arg type="header" id="Content-Type">
							<value type="value"><content>application/json</content></value>
                  		</arg>
              		</args>
              		<response type="json"/>
	            </endpoint>
				<!--ENDPOINT OPTIMIZAR WES-->
				<endpoint type="ws" id="OW" verbose="true" lazy="true" connecttimeout="5000" requesttimeout="20000">
					<method>POST</method>
					<url ignoreSSL="true">{url}/ResourceConfigurationREST/resourceConfiguration</url>
					<args>
						<arg type="path" id="url">
							<value type="parameter" parameterid="par_url_bus"/>
						</arg>
						<arg type="header" id="Accept">
							<value type="value"><content>application/json</content></value>
						</arg>
						<arg type="header" id="X-IBM-Client-Id">
							<value type="parameter" parameterid="par_bus_clientid"/>
						</arg>
						<arg type="header" id="X-VF-API-Process">
							<value type="value"><content>Optimizar_WES</content></value>
						</arg>
						<!--<arg type="header" id="X-VF-API-Mock">
                            <value type="value"><content>001</content></value>
                        </arg>-->
						<arg type="header" id="Content-Type">
							<value type="value"><content>application/json</content></value>
						</arg>
						<!--<arg type="header" id="X-VF-API-Debug">
                            <value type="value"><content>true</content></value>
                        </arg>-->
					</args>
					<body contenttype="text">
						<text>
							<value type="value"><content><![CDATA[{"resource":[{"extraId":[{"value":"]]></content></value>
							<value type="parameter" parameterid="par_cond_id"/>
							<value type="value"><content><![CDATA[",
                                                "schemeName": "cond.id"
                                            }
                                        ]
                                    }],
                                    "characteristic": [{
                                        "characteristicsValue": [{
                                                "characteristicName": "cond.enhance.2",
                                                "value": "543214"
                                            },
                                            {
                                                "characteristicName": "cond.enhance.5",
                                                "value": "2"
                                            },
                                            {
                                                "characteristicName": "cond.enhance.auto_threshold",
                                                "value": "0.5"
                                            },
                                            {
                                                "characteristicName": "cond.enhance.algos",
                                                "value": "single"
                                            }
                                        ]
                                    }]
                                }]]>
							</content></value>
						</text>
					</body>
					<response type="json"/>
				</endpoint>
	        </endpoints>
	    </troubleshoot>

<!-- NO MIGRADO NO PARECE TENER SENTIDO: REVISAR 
	    <action>
	    	<endpoints>
	            <endpoint id="act_OIQT" verbose="true" lazy="true" type="ws" connecttimeout="20000" requesttimeout="20000">
	                <method>GET</method>
	                <url ignoreSSL="true">{url}/ServiceConfigurationREST/serviceConfiguration/{serviceid}</url>
	                <args>
	                	<arg type="path" id="url">
                            <value type="parameter" parameterid="par_url_bus"/>
                        </arg>
                        <arg type="path" id="serviceid">
                            <value type="parameter" parameterid="par_service_id"/>
                        </arg>
						<arg type="header" id="Accept">
							<value type="value"><content>application/json</content></value>
						</arg>
						<arg type="header" id="X-IBM-Client-Id">
							<value type="parameter" parameterid="par_bus_clientid"/>
						</arg>
						<arg type="header" id="X-VF-API-Process">
							<value type="value"><content>Obtener_informacion_QT</content></value>
						</arg>
						<arg type="header" id="Content-Type">
							<value type="value"><content>application/json</content></value>
                  		</arg>
              		</args>
              		<response type="json"/>
	            </endpoint>
	        </endpoints>
	    </action>
 
 -->

	</connectivity>

    <parameters>

    	<!-- ENDPOINT REQUEST PARAMS -->
    		<parameter id="par_url_bus" type="value" techview="never">
                <contents>
                    <value type="lookup">url_list</value>
                </contents>
                <sequence>
                  <operation type="row_delimiter">
                  	<args><arg><value type="value">;</value></arg></args>
                  </operation>
                  <operation type="column_delimiter">
                  	<args><arg><value type="value">,</value></arg></args>
                  </operation>
                  <operation type="column_index">
                  	<args><arg><value type="value">1</value></arg></args>                  
                  </operation>
                  <operation type="column_equal">
                  	<args><arg><value type="value">url_bus</value></arg></args>
                  </operation>
                  <operation type="column_selector">
                  	<args><arg><value type="value">2</value></arg></args>
                  </operation>
                </sequence>
            </parameter>

            <parameter id="par_bus_clientid" type="value" techview="never">
                <contents>
                    <value type="lookup">url_list</value>
                </contents>
                <sequence>
                  <operation type="row_delimiter">
                  	<args><arg><value type="value">;</value></arg></args>
                  </operation>
                  <operation type="column_delimiter">
                  	<args><arg><value type="value">,</value></arg></args>
                  </operation>
                  <operation type="column_index">
                  	<args><arg><value type="value">1</value></arg></args>                  
                  </operation>
                  <operation type="column_equal">
                  	<args><arg><value type="value">url_bus</value></arg></args>
                  </operation>
                  <operation type="column_selector">
                  	<args><arg><value type="value">3</value></arg></args>
                  </operation>
                </sequence>
            </parameter>

			<!--DBC_HFCL_Inicio_Pasar ID de CRM en casos que no tenga Service ID-->
            <parameter id="par_service_id_aux" type="value" name="ID Servicio Auxiliar" techview="never">
                <contents>
                    <value type="parameter" role="front">par_grc_service_id</value>
                </contents>
            </parameter>

			<parameter id="par_crm_id_aux" type="value" name="ID CRM Auxiliar" techview="never">
                <contents>
                    <value type="parameter" role="front">par_customer_crmid</value>
                </contents>
            </parameter>

			<parameter id="par_service_id" type="value" name="ID Servicio" techview="never">
                <contents>
                    <value type="parameter">par_service_id_aux</value>
                </contents>
				<sequence>
                  <operation type="replace_pattern">
					<args><arg><value type="value">^unknown$@to@</value><value type ="parameter">par_crm_id_aux</value></arg></args>
				</operation>
                </sequence>
            </parameter>
			<!--DBC_HFCL_Fin_Pasar ID de CRM en casos que no tenga Service ID-->

			<parameter id="par_cond_id" type="value" techview="never">
				<contents>
					<value type="value">74236984</value>
				</contents>
			</parameter>

    	<!-- ENDPOINT RESPONSE PARAMS -->
			<!-- Parametros de Obtener_Informacion_QT -->
	            <parameter id="par_oiqt_http_code" type="value" techview="never">
	                <contents>
	                    <value type="infosource_value" endpointid="olt_OIQT">_httpCode</value>
	                </contents> 
	            </parameter>

	            <parameter id="par_oiqt_err_code" techview="never">
	                <contents>
	                    <value type="infosource_value" endpointid="olt_OIQT">_errCode</value>
	                </contents>
	            </parameter>

	            <parameter id="par_oiqt_err_desc" techview="never">
	                <contents>
	                    <value type="infosource_value" endpointid="olt_OIQT">_errDesc</value>
	                </contents>
	            </parameter>



<!-- NO MIGRADO NO PARECE TENER SENTIDO: REVISAR 


            	<parameter id="par_act_oiqt_http_code" type="value" techview="never">
	                <contents>
	                    <value type="infosource_value" endpointid="act_OIQT">_httpCode</value>
	                </contents> 
	            </parameter>

	            <parameter id="par_act_oiqt_err_code" techview="never">
	                <contents>
	                    <value type="infosource_value"  endpointid="act_OIQT">_errCode</value>
	                </contents>
	            </parameter>

	            <parameter id="par_act_oiqt_err_desc" techview="never">
	                <contents>
	                    <value type="infosource_value"  endpointid="act_OIQT">_errDesc</value>
	                </contents>
	            </parameter>
-->

    </parameters>
    <checks></checks>
</template>
