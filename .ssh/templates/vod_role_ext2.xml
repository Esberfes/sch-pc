<?xml version='1.0' encoding='UTF-8'?>
<template version="1.0" type="role" role="ext2" basename="role_ext2">

    <!-- ############################################################################################## -->
    <!-- Version 1.0                                                                                    -->
    <!--  - Version de partida                                                                          -->
    <!-- ############################################################################################## -->


    <parameters>

        <parameter id="par_fu_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="firmware_update_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_fu_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="firmware_update_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_fu_ext2_err_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="firmware_update_ext2">_errDesc</value>
            </contents>
        </parameter> 

        <!-- Parametros de Checkonline_ext2 -->
        <parameter id="par_co_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Checkonline_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_co_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Checkonline_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_co_ext2_err_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Checkonline_ext2">_errDesc</value>
            </contents>
        </parameter>

        <parameter id="par_co_ext2_resource" type="table">
          <contents>
            <value type="infosource_table" infosource="ext2" endpointid="Checkonline_ext2">resource.</value>
          </contents>
        </parameter>

        <parameter id="par_co_ext2_rrc" type="table">
          <contents>
            <value type="infosource_table" infosource="ext2" endpointid="Checkonline_ext2">relatedResourceConfiguration.</value>
          </contents>
        </parameter>

        <!-- Parametros de Obtener_Dispositivos_ext2 -->
        <parameter id="par_od_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_od_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_od_ext2_err_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">_errDesc</value>
            </contents>
        </parameter>

        <parameter id="par_od_ext2_resource" type="table">
            <contents>
              <value type="infosource_table" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">resource.</value>
            </contents>
        </parameter>

        <parameter id="par_od_ext2_rrc" type="table">
            <contents>
                <value type="infosource_table" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">relatedResourceConfiguration.</value>
            </contents>
        </parameter>

        <!-- Parametros de Reconfigurar_CPE_ext2 -->
        <parameter id="par_rcpe_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Reconfigurar_CPE_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_rcpe_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Reconfigurar_CPE_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_rcpe_err_ext2_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Reconfigurar_CPE_ext2">_errDesc</value>
            </contents>
        </parameter>

        <!-- Parametros de Reboot_ext2 -->
        <parameter id="par_reboot_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="reboot_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_reboot_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="reboot_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_reboot_ext2_err_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="reboot_ext2">_errDesc</value>
            </contents>
        </parameter>

        <!-- Parametros de Factory_Reset_ext2 -->
        <parameter id="par_fr_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="act_factory_reset_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_fr_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="act_factory_reset_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_fr_ext2_err_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="act_factory_reset_ext2">_errDesc</value>
            </contents>
        </parameter>

        <!-- Parametros de Obtener_Firmware_ext2 -->
        <parameter id="par_of_ext2_http_code" type="value">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Obtener_Firmware_ext2">_httpCode</value>
            </contents> 
        </parameter>

        <parameter id="par_of_ext2_err_code">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Obtener_Firmware_ext2">_errCode</value>
            </contents>
        </parameter>

        <parameter id="par_of_ext2_err_desc">
            <contents>
            <value type="infosource_value" infosource="ext2" endpointid="Obtener_Firmware_ext2">_errDesc</value>
            </contents>
        </parameter>


        <parameter id="par_co_ext2_activated" type="value">
          <contents>
            <value type="parameter">par_co_ext2_resource</value> 
          </contents>
          <sequence>
            <operation type="header_selector">
              <args><arg><value type="value">activated</value></arg></args>
            </operation>
            <operation type="first_row">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_co_ext2_resource_id" type="value">
            <contents>
                <value type="parameter">par_co_ext2_resource</value>
            </contents>
            <sequence>
                <operation type="header_selector">
                    <args><arg><value type="value">id</value></arg></args>
                </operation>
                <operation type="row_excluder">
                    <args><arg><value type="value">id</value></arg></args>
                </operation>
            </sequence>
      </parameter>

      
      <parameter id="par_od_resource_id_ext2" type="value">
        <contents>
          <value type="parameter">par_od_ext2_resource</value>
        </contents>
        <sequence>
          <operation type="header_selector">
            <args><arg><value type="value">id</value></arg></args>
          </operation>
          <operation type="row_excluder">
            <args><arg><value type="value">id</value></arg></args>
          </operation>
        </sequence>
      </parameter>

      <parameter id="par_od_resource_id_unico_ext2" type="value">
        <contents>
            <value type="parameter">par_od_resource_id_ext2</value>
        </contents>
        <sequence>
            <operation type="unique_rows"/>
        </sequence>
      </parameter>

      <parameter id="par_od_ext2_resource_productclass" type="value" name="Modelo">
          <contents>
            <value type="parameter">par_od_ext2_resource</value>
          </contents>
          <sequence>
            <operation type="header_selector">
              <args><arg><value type="value">extraId.schemeName;extraId.value</value></arg></args>
            </operation>
            <operation type="column_contain">
              <args><arg><value type="value">productClass</value></arg></args>
            </operation>
            <operation type="column_selector">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
          </sequence>
      </parameter>

      <parameter id="par_co_ext2_rrc_protocol" type="value" name="CPE_protocol">
        <contents>
          <value type="parameter">par_co_ext2_rrc</value>
        </contents>
        <sequence>
          <operation type="header_selector">
            <args><arg><value type="value">extraId.schemeName;extraId.value</value></arg></args>
          </operation>
          <operation type="column_contain">
            <args><arg><value type="value">protocol</value></arg></args>
          </operation>
          <operation type="column_selector">
            <args><arg><value type="value">2</value></arg></args>
          </operation>
        </sequence>
      </parameter>

      <parameter id="par_od_ext2_resource_serialnumber" type="value" name="Nº Serie">
        <contents>
          <value type="parameter">par_od_ext2_resource</value>
        </contents>
        <sequence>
          <operation type="header_selector">
            <args><arg><value type="value">extraId.schemeName;extraId.value</value></arg></args>
          </operation>
          <operation type="column_contain">
            <args><arg><value type="value">serialNumber</value></arg></args>
          </operation>
          <operation type="column_selector">
            <args><arg><value type="value">2</value></arg></args>
          </operation>
        </sequence>
        </parameter>

        <parameter id="par_of_ext2_tabla_base" type="table">
            <contents>
                <reference type="infosource_table" infosource="ext2" endpointid="Obtener_Firmware_ext2">0.characteristic.0.characteristicsValue.</reference>
            </contents>
            <sequence>
                <operation type="header_selector">
                    <args><arg><value type="value">description;name;value</value></arg></args>
                </operation>
            </sequence>
        </parameter>

        <parameter id="par_of_ext2_tabla_base_reduc_name" type="table">
            <contents>
                <reference type="parameter">par_of_ext2_tabla_base</reference>
            </contents>
            <sequence>
                <operation type="column_index">
                    <args><arg><value type="value">1</value></arg></args>
                </operation>
                <operation type="column_equal">
                    <args><arg><value type="value">description</value></arg></args>
                </operation>
            </sequence>
        </parameter>

        <!--DCL20211115 desarrollo superwifi 6 airties - INICIO-->
        <parameter id="par_of_tabla_base_reduc_ext2" type="table">
          <contents>
            <reference type="parameter">par_of_ext2_tabla_base</reference>
          </contents>
          <sequence>
            <operation type="ignore_header">
              <args><arg><value type="value">true</value></arg></args>
            </operation>
            <operation type="column_index">
              <args><arg><value type="value">1</value></arg></args>
            </operation>
            <operation type="column_equal">
              <args><arg><value type="value">description</value></arg></args>
            </operation>
            <operation type="column_index">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
            <operation type="order_lex">
              <args><arg><value type="value">desc</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_of_tabla_desc_ext2" type="table">
          <contents>
            <reference type="parameter">par_of_tabla_base_reduc_ext2</reference>
          </contents>
          <sequence>
            <operation type="column_excluder">
              <args><arg><value type="value">description</value></arg></args>
            </operation>
            <operation type="column_selector">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
            <operation type="column_excluder">
              <args><arg><value type="value">name</value></arg></args>
            </operation>
            <operation type="row_excluder">
              <args><arg><value type="value">value</value></arg></args>
            </operation>
            <operation type="unique_rows"/>
          </sequence>
        </parameter>


        <parameter id="par_firmware_actual_ext2" type="table">
          <contents>
              <reference type="parameter">par_of_tabla_desc_ext2</reference>
          </contents>
          <sequence>
              <operation type="row_selector">
                <args><arg><value type="value">1</value></arg></args>
              </operation>
          </sequence>
        </parameter>

        <parameter id="par_firmware_homologado_ext2" type="value">
          <contents>
              <reference type="parameter">par_of_ext2_tabla_name</reference>
          </contents>
          <sequence>
              <operation type="column_equal">
                  <args><arg><value type="parameter">par_firmware_actual_ext2</value></arg></args>
              </operation>
          </sequence>
        </parameter>

        <parameter id="par_od_resource_softwareversion_ext2" type="value" name="Version SW ext2">
          <contents>
            <value type="parameter">par_od_ext2_resource</value>
          </contents>
          <sequence>
            <operation type="header_selector">
              <args><arg><value type="value">extraId.schemeName;extraId.value</value></arg></args>
            </operation>
            <operation type="column_contain">
              <args><arg><value type="value">softwareVersion</value></arg></args>
            </operation>
            <operation type="column_selector">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_firmware_ultimo_ext2" type="value">
            <contents>
                <value type="parameter">par_of_ext2_tabla_name</value>
            </contents>
            <sequence>
                <operation type="column_contain">
                    <args><arg><value type="parameter">par_od_resource_id_unico_ext2</value></arg></args>
                </operation>
                <operation type="replace_pattern">
                    <args><arg><value type="parameter">par_od_ext2_resource_productclass</value><value type="value">-@to@</value></arg></args>
                </operation>
                <operation type="replace_pattern">
                    <args><arg><value type="parameter">par_od_resource_id_unico_ext2</value><value type="value">-@to@</value></arg></args>
                </operation>
                <operation type="order_lex">
                    <args><arg><value type="value">desc</value></arg></args>
                </operation>
                <operation type="row_selector">
                    <args><arg><value type="value">1</value></arg></args>
                </operation>
            </sequence>
        </parameter>
        <!--DCL20211115 desarrollo superwifi 6 airties - FIN-->

        <parameter id="par_of_ext2_tabla_name" type="table">
          <contents>
            <reference type="parameter">par_of_ext2_tabla_base_reduc_name</reference>
          </contents>
          <sequence>
            <operation type="column_excluder">
              <args><arg><value type="value">description</value></arg></args>
            </operation>
            <operation type="column_selector">
              <args><arg><value type="value">1</value></arg></args>
            </operation>
            <operation type="column_excluder">
              <args><arg><value type="value">value</value></arg></args>
            </operation>
            <operation type="row_excluder">
              <args><arg><value type="value">name</value></arg></args>
            </operation>
            <operation type="order_lex">
              <args><arg><value type="value">name</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_od_ext2_reason_code" type="value">
            <contents>
              <value type="infosource_value" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">reasonCode</value>
            </contents>
        </parameter>

        <parameter id="par_od_ext2_configuration_status" type="value" name="CPE_ConfigurationStatus">
          <contents>
            <value type="parameter">par_od_ext2_servicetagarray</value>
          </contents>
          <sequence>
            <operation type="column_index">
              <args><arg><value type="value">1</value></arg></args>
            </operation>
            <operation type="column_equal">
              <args><arg><value type="value">VF_APPLY_PROFILE</value></arg></args>
            </operation>
            <operation type="column_selector">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_od_ext2_reconfig_on_boot" type="value" name="CPE_ReconfigOnBoot">
          <contents>
            <value type="parameter">par_od_ext2_servicetagarray</value>
          </contents>
          <sequence>
            <operation type="column_index">
              <args><arg><value type="value">1</value></arg></args>
            </operation>
            <operation type="column_equal">
              <args><arg><value type="value">VF_RECONFIG_ON_BOOT</value></arg></args>
            </operation>
            <operation type="column_selector">
              <args><arg><value type="value">2</value></arg></args>
            </operation>
          </sequence>
        </parameter>

        <parameter id="par_od_ext2_rrc_protocol" type="value">
            <contents>
                <value type="parameter">par_od_ext2_rrc</value>
            </contents>
            <sequence>
                <operation type="header_selector">
                    <args><arg><value type="value">extraId.schemeName;extraId.value</value></arg></args>
                </operation>
                <operation type="column_contain">
                    <args><arg><value type="value">protocol</value></arg></args>
                </operation>
                <operation type="column_selector">
                    <args><arg><value type="value">2</value></arg></args>
                </operation>
            </sequence>
        </parameter>

        <parameter id="par_od_ext2_resource_description" type="value">
            <contents>
                <value type="parameter">par_od_ext2_resource</value>
            </contents>
            <sequence>
                <operation type="header_selector">
                    <args><arg><value type="value">description</value></arg></args>
                </operation>
                <operation type="row_excluder">
                    <args><arg><value type="value">description</value></arg></args>
                </operation>
                <operation type="unique_rows"/>
            </sequence>
        </parameter>

        <parameter id="par_od_ext2_resource_activated" type="value">
            <contents>
              <value type="parameter">par_od_ext2_resource</value>
            </contents>
            <sequence>
              <operation type="header_selector">
                <args><arg><value type="value">activated</value></arg></args>
              </operation>
              <operation type="row_excluder">
                <args><arg><value type="value">activated</value></arg></args>
              </operation>
              <operation type="unique_rows"/>
            </sequence>
        </parameter>

        <parameter id="par_od_ext2_charact" type="table">
        <contents>
          <value type="infosource_table" infosource="ext2" endpointid="Obtener_Dispositivos_ext2">characteristic.</value>
        </contents>
      </parameter>

      <parameter id="par_od_ext2_servicetagarray" type="table">
        <contents>
          <value type="parameter">par_od_ext2_charact</value>
        </contents>
        <sequence>
          <operation type="remove_pattern">
            <args><arg><value type="value">characteristicsValue.</value></arg></args>
          </operation>
          <operation type="header_selector">
            <args><arg><value type="value">name;value;description;type</value></arg></args>
          </operation>
          <operation type="ignore_header">
            <args><arg><value type="value">true</value></arg></args>
          </operation>
          <operation type="column_index">
            <args><arg><value type="value">4</value></arg></args>
          </operation>
          <operation type="column_equal">
            <args><arg><value type="value">serviceTagArray</value></arg></args>
          </operation>
          <operation type="column_index">
            <args><arg><value type="value">3</value></arg></args>
          </operation>
          <operation type="column_equal">
            <args><arg><value type="value">value</value></arg></args>
          </operation>
          <operation type="header_selector">
            <args><arg><value type="value">name;value</value></arg></args>
          </operation>
        </sequence>
      </parameter>

      <parameter id="par_od_ext2_servicetagarray_techview" type="table" name="Service Tags">
        <contents>
          <value type="parameter">par_od_ext2_servicetagarray</value>
        </contents>
        <sequence>
          <operation type="first_row">
            <args><arg><value type="value">2</value></arg></args>
          </operation>
          <operation type="column_index">
            <args><arg><value type="value">1</value></arg></args>
          </operation>
          <operation type="order_lex">
            <args><arg><value type="value">asc</value></arg></args>
          </operation>
        </sequence>
      </parameter>

      <!--CCA20220117 - Superwifi Fase 2 - Parametros para comprobar si tienes serviceID y serialNumber - INICIO-->
      <parameter id="par_grc_service_id_front" type="value">
        <contents>
          <value type="parameter" role="front">par_grc_service_id</value>
        </contents>
      </parameter>

      <parameter id="par_gsl_serialnnumber_exten2_front" type="value">
        <contents>
          <value type="parameter" role="front">par_gsl_serialnnumber_exten2</value>
        </contents>
      </parameter>
      <!--CCA20220117 - Superwifi Fase 2 - FIN-->

    </parameters>
    <checks>

        <!-- Checks de respuesta de FR_ext2 -->
        <check id="chk_fr_ext2_err_code_ok">
            <parameter>par_fr_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <check id="chk_fr_ext2_http_code_ok">
            <parameter>par_fr_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <check id="chk_fr_ext2_err_code_timeout">
            <parameter>par_fr_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">9</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <!-- Checks de respuesta de OF_ext2 -->
        <check id="chk_of_ext2_err_code_ok">
            <parameter>par_of_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_of_ext2_http_code_ok">
            <parameter>par_of_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <!-- Checks de respuesta de Reboot_ext2 -->
        <check id="chk_reboot_ext2_err_code_ok">
            <parameter>par_reboot_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <check id="chk_reboot_ext2_err_code_timeout">
            <parameter>par_reboot_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">9</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <check id="chk_reboot_ext2_http_code_ok">
            <parameter>par_reboot_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <!-- Checks de respuesta de Reconfigurar_CPE_ext2 -->
        <check id="chk_rcpe_ext2_err_code_ok">
            <parameter>par_rcpe_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <check id="chk_rcpe_ext2_http_code_ok">
            <parameter>par_rcpe_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <!-- Checks de respuesta de ObtenerDispositivos_ext2 -->
        <check id="chk_od_ext2_err_code_ok">
            <parameter>par_od_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_od_ext2_http_code_ok">
            <parameter>par_od_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_od_ext2_err_code_ko">
            <parameter>par_od_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="not_equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_od_ext2_http_code_ko">
            <parameter>par_od_ext2_http_code</parameter>
            <result>
                <!-- DEF20221201 INC000060904772 -->
                <expr type="or">
                  <operation type="lower">
                      <args><arg><value type="value">200</value></arg></args>
                  </operation>
                  <operation type="greater_or_equal">
                      <args><arg><value type="value">300</value></arg></args>
                  </operation>
                </expr>
            </result>
        </check>

        <check id="chk_od_ext2_resource_activated_eq_true">
            <parameter>par_od_ext2_resource_activated</parameter>
            <result>
              <expr type="and">
                <operation type="equal">
                  <args><arg><value type="value">true</value></arg></args>
                </operation>
              </expr>
            </result>
        </check>

        <check id="chk_od_ext2_configuration_status_eq_failure">
            <parameter>par_od_ext2_configuration_status</parameter>
            <result>
              <expr type="and">
                <operation type="equal">
                  <args><arg><value type="value">FAILURE</value></arg></args>
                </operation>
              </expr>
            </result>
        </check>

        <check id="chk_od_ext2_reconfig_on_boot_eq_unknown">
          <parameter>par_od_ext2_reconfig_on_boot</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">unknown</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_reconfig_on_boot_neq_pending">
          <parameter>par_od_ext2_reconfig_on_boot</parameter>
          <result>
            <expr type="and">
            <operation type="not_equal">
              <args><arg><value type="value">PENDING</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_configuration_status_eq_wait_for_fw_upgrade">
          <parameter>par_od_ext2_configuration_status</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">WAIT_FOR_FW_UPGRADE</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_configuration_status_eq_pending">
          <parameter>par_od_ext2_configuration_status</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">PENDING</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_configuration_status_eq_running">
          <parameter>par_od_ext2_configuration_status</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">RUNNING</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_configuration_status_eq_success">
          <parameter>par_od_ext2_configuration_status</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">SUCCESS</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_resource_activated_eq_false">
          <parameter>par_od_ext2_resource_activated</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">false</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_reason_code_eq_2004"><!-- POH 20211213 - Consolas 2.0 - CON_018 -->
          <parameter>par_od_ext2_reason_code</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">2004</value></arg></args><!-- POH 20211213 - Consolas 2.0 - CON_018 -->
            </operation>
          </expr>
          </result>
        </check>

        <check id="chk_od_ext2_reason_code_eq_2001">
          <parameter>par_od_ext2_reason_code</parameter>
          <result>
            <expr type="and">
            <operation type="equal">
              <args><arg><value type="value">2001</value></arg></args>
            </operation>
          </expr>
          </result>
        </check>

        <!-- Checks de respuesta de Checkonline_ext2 -->
        <check id="chk_co_ext2_err_code_ok">
            <parameter>par_co_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_co_ext2_http_code_ok">
            <parameter>par_co_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_co_ext2_err_code_ko">
            <parameter>par_co_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="not_equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_co_ext2_http_code_ko">
            <parameter>par_co_ext2_http_code</parameter>
            <result>
                <expr type="or">
                <operation type="lower">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="greater_or_equal">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_co_ext2_activated_eq_true">
            <parameter>par_co_ext2_activated</parameter>
            <result>
              <expr type="and">
              <operation type="equal">
                <args><arg><value type="value">true</value></arg></args>
              </operation>
            </expr>
            </result>
        </check>

        <check id="chk_co_ext2_activated_neq_true">
          <parameter>par_co_ext2_activated</parameter>
          <result>
            <expr type="and">
              <operation type="not_equal">
              <args><arg><value type="value">true</value></arg></args>
              </operation>
            </expr>
          </result>
        </check>

        <check id="chk_fu_ext2_err_code_ok">
            <parameter>par_fu_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">0</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>
        <check id="chk_fu_ext2_http_code_ok">
            <parameter>par_fu_ext2_http_code</parameter>
            <result>
                <expr type="and">
                <operation type="greater_or_equal">
                    <args><arg><value type="value">200</value></arg></args>
                </operation>
                <operation type="lower">
                    <args><arg><value type="value">300</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_fu_ext2_err_code_timeout">
            <parameter>par_fu_ext2_err_code</parameter>
            <result>
                <expr type="and">
                <operation type="equal">
                    <args><arg><value type="value">9</value></arg></args>
                </operation>
                </expr>
            </result>
        </check>

        <check id="chk_firmware_homologado_neq_unknown_ext2">
            <parameter>par_firmware_homologado_ext2</parameter>
            <result>
                <expr type="and">
                    <operation type="not_equal">
                        <args><arg><value type="value">unknown</value></arg></args>
                    </operation>
                </expr>
            </result>
        </check>

        <check id="chk_firmware_ultima_version_ext2">
            <parameter>par_od_resource_softwareversion_ext2</parameter>
            <result>
                <expr type="and">
                    <operation type="equal">
                        <args><arg><value type="parameter">par_firmware_ultimo_ext2</value></arg></args>
                    </operation>
                </expr>
            </result>
        </check>

        <!--CCA20220117 - Superwifi Fase 2 - Se comprueba si el parametro es unknown - INICIO-->
        <check id="chk_grc_service_id_eq_unknown">
            <parameter>par_grc_service_id_front</parameter>
            <result>
                <expr type="and">
                    <operation type="equal">
                        <args><arg><value type="value">unknown</value></arg></args>
                    </operation>
                </expr>
            </result>
        </check>

        <check id="chk_gsl_serialnnumber_exten2_eq_unknown">
            <parameter>par_gsl_serialnnumber_exten2_front</parameter>
            <result>
                <expr type="and">
                    <operation type="equal">
                        <args><arg><value type="value">unknown</value></arg></args>
                    </operation>
                </expr>
            </result>
        </check>
        <!--CCA20220117 - Superwifi Fase 2 - FIN-->

    </checks>
    <tests>
        <!-- TEST DE Factory_Reset_ext2 -->
        <test id="tst_endpoint_fr_ext2_isok">
        <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_fr_ext2_err_code_ok"/>
            <reference type="check" id="chk_fr_ext2_http_code_ok"/>
            </expr>
        </test>

        <test id="tst_endpoint_fr_ext2_istimeout">
        <expr type="and">
            <reference type="check" id="chk_fr_ext2_err_code_timeout"/>
            </expr>
        </test>

        <!-- TEST DE Obtener_Firmware_ext2 -->
        <test id="tst_endpoint_of_ext2_isok">
        <expr type="and">
            <reference type="check" id="chk_of_ext2_err_code_ok"/>
            <reference type="check" id="chk_of_ext2_http_code_ok"/>
            </expr>
        </test>

        <!-- TEST DE Reboot_ext2 -->
        <test id="tst_endpoint_reboot_ext2_isok">
        <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_reboot_ext2_err_code_ok"/>
            <reference type="check" id="chk_reboot_ext2_http_code_ok"/>
            </expr>
        </test>

        <test id="tst_endpoint_reboot_ext2_istimeout">
        <expr type="and">
            <reference type="check" id="chk_reboot_ext2_err_code_timeout"/>
            </expr>
        </test>
        <!-- TEST DE Reconfigurar_CPE_ext2 -->
        <test id="tst_endpoint_rcpe_ext2_isok">
        <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_rcpe_ext2_err_code_ok"/>
            <reference type="check" id="chk_rcpe_ext2_http_code_ok"/>
            </expr>
        </test>

        <!-- TEST DE ObtenerDispositivos_ext2 -->
        <test id="tst_endpoint_od_ext2_isok">
        <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_od_ext2_err_code_ok"/>
            <reference type="check" id="chk_od_ext2_http_code_ok"/>
            </expr>
        </test>

        <test id="tst_endpoint_od_ext2_isko">
          <!-- DEF20221201 INC000060904772 -->
          <expr type="or">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_od_ext2_err_code_ko"/>
            <reference type="check" id="chk_od_ext2_http_code_ko"/>
          </expr>
        </test>

        <test id="tst_activado_hdm_ext2">
          <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_od_ext2_resource_activated_eq_true"/>
          </expr>
        </test>

        <test id="tst_hdm_failure_ext2">
          <expr type="and">
            <reference type="check" id="chk_od_ext2_configuration_status_eq_failure"/>
            <reference type="test" id="tst_reconfig_on_boot_2_ext2"/>
          </expr>  
        </test>

        <test id="tst_reconfig_on_boot_2_ext2">
          <expr type="or">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_od_ext2_reconfig_on_boot_eq_unknown"/>
            <reference type="check" id="chk_od_ext2_reconfig_on_boot_neq_pending"/>
          </expr>
        </test>

        <test id="tst_equipo_autoconfiguracion_ext2">
          <expr type="or">
            <reference type="test" id="tst_equipo_autoconfiguracion_wait_for_fw_upgrade_ext2"/>
            <reference type="test" id="tst_equipo_autoconfiguracion_pending_ext2"/>
            <reference type="test" id="tst_equipo_autoconfiguracion_running_ext2"/>
          </expr>
        </test>

        <test id="tst_equipo_autoconfiguracion_wait_for_fw_upgrade_ext2">
          <expr type="and">
            <reference type="check" id="chk_od_ext2_configuration_status_eq_wait_for_fw_upgrade"/>
          </expr>
        </test>

        <test id="tst_equipo_autoconfiguracion_pending_ext2">
          <expr type="and">
            <reference type="check" id="chk_od_ext2_configuration_status_eq_pending"/>
          </expr>
        </test>

        <test id="tst_equipo_autoconfiguracion_running_ext2">
          <expr type="and">
            <reference type="check" id="chk_od_ext2_configuration_status_eq_running"/>
          </expr>
        </test>

        <test id="tst_equipo_autoconfiguracion_success_ext2">
          <expr type="and">
            <reference type="check" id="chk_od_ext2_configuration_status_eq_success"/>
          </expr>
        </test>

        <test id="tst_equipo_autoconfiguracion_failure_ext2">
          <expr type="and">
            <reference type="check" id="chk_od_ext2_configuration_status_eq_failure"/>
          </expr>
        </test>

        <test id="tst_no_activado_hdm_ext2">
          <expr type="or">
          <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown"/><!--CCA20220117 - Superwifi Fase 2--> 
          <reference type="test" id="tst_od_ext2_error_2004"/><!-- POH 20211213 - Consolas 2.0 - CON_018 -->
          <reference type="check" id="chk_od_ext2_resource_activated_eq_false"/>
          </expr>
        </test>

        <test id="tst_od_ext2_error_2004"><!-- POH 20211213 - Consolas 2.0 - CON_018 -->
          <expr type="and">
            <reference type="check" id="chk_od_ext2_reason_code_eq_2004"/><!-- POH 20211213 - Consolas 2.0 - CON_018 -->
          </expr>
        </test>

        <test id="tst_activado_hdm_no_online_ext2">
          <expr type="and">
          <reference type="check" id="chk_od_ext2_reason_code_eq_2001"/>
          </expr>
        </test>

        <!-- TEST DE Checkonline_ext2 -->
        <test id="tst_endpoint_co_ext2_isok">
        <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_co_ext2_err_code_ok"/>
            <reference type="check" id="chk_co_ext2_http_code_ok"/>
            </expr>
        </test>

        <test id="tst_endpoint_co_ext2_isko">
        <expr type="or">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="check" id="chk_co_ext2_err_code_ko"/>
            <reference type="check" id="chk_co_ext2_http_code_ko"/>
            </expr>
        </test>

        <test id="tst_cpe_online_ext2">
          <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown" inverse="true"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="test" id="tst_endpoint_co_ext2_isok"/>
            <reference type="check" id="chk_co_ext2_activated_eq_true"/>
          </expr>
        </test>

        <test id="tst_cpe_no_gestionable_ext2">
          <expr type="or">
            <reference type="test" id="tst_endpoint_co_ext2_isko"/> 
            <reference type="test" id="tst_cpe_not_online_ext2"/>
          </expr>
        </test>

        <test id="tst_cpe_not_online_ext2">
          <expr type="and">
            <reference type="test" id="tst_serviceid_serialnnumber_exten2_eq_unknown"/><!--CCA20220117 - Superwifi Fase 2--> 
            <reference type="test" id="tst_endpoint_co_ext2_isok"/>
            <reference type="check" id="chk_co_ext2_activated_neq_true"/>
          </expr>
        </test>

        <!--Tests de Firmware_Update_ext2-->

        <test id="tst_endpoint_fu_ext2_isok">
            <expr type="and">
                <reference type="check" id="chk_fu_ext2_err_code_ok"/>
                <reference type="check" id="chk_fu_ext2_http_code_ok"/>
            </expr>
        </test>

        <test id="tst_endpoint_fu_ext2_istimeout">
            <expr type="and">
                <reference type="check" id="chk_fu_ext2_err_code_timeout"/>
            </expr>
        </test>

        <test id="tst_firmware_homologado_ext2">
            <expr type="and">
                <reference type="check" id="chk_firmware_homologado_neq_unknown_ext2"/> 
            </expr>
        </test>

        <test id="tst_firmware_no_homologado_ext2">
            <expr type="and">
                <reference type="check" id="chk_firmware_homologado_neq_unknown_ext2" inverse="true"/> 
            </expr>
        </test>

        <test id="tst_firmware_actualizado_ext2">
            <expr type="and">
                <reference type="check" id="chk_firmware_ultima_version_ext2"/> 
            </expr>
        </test>

        <test id="tst_firmware_no_actualizado_ext2">
            <expr type="and">
                <reference type="check" id="chk_firmware_ultima_version_ext2" inverse="true"/> 
            </expr>
        </test>

        <!--CCA20220117 - Superwifi Fase 2 - Se crea test para comprobar si los parametros son unknown - INICIO-->
        <test id="tst_serviceid_serialnnumber_exten2_eq_unknown">
          <expr type="or">
              <reference type="check" id="chk_grc_service_id_eq_unknown"/>
              <reference type="check" id="chk_gsl_serialnnumber_exten1_eq_unknown"/>
            </expr>
        </test>

        <!--CCA20220117 - Superwifi Fase 2 - TESTS OBLIGATORIOS FUNCIONAMIENTO -->
        <test id="tst_template">
            <expr type="and" result="true"/>
        </test>
        <!--CCA20220117 - Superwifi Fase 2 - FIN-->

    </tests>
    <actions>
        <action id="act_factory_reset_ext2" type="button">
        <texts>
          <text type="detail">Reseteo a Fabrica</text>
          <text type="warning">Va resetear a Fabrica el equipo del cliente. ¿Desea continuar?</text>
          <text type="error">No se ha podido ejecutar la operación</text>
        </texts>
        <sequence>
          <step type="infosource" infosource="ext2" endpointid="act_factory_reset_ext2">
          </step>
        </sequence>
        <messages>
          <message id="msg_fr_ext2_ok" severity="info" datatype="text" storable="true">
            <body><value type="value">Equipo reseteado a Fabrica</value></body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_fr_ext2_isok"/>
              </expr>
            </requirement>
          </message>
          <message id="msg_fr_ext2_ko" severity="error" datatype="text" storable="true">
            <body><value type="value">No se pudo resetear a Fabrica</value></body>
            <requirement>
              <expr type="and">
                <reference type="test" id="tst_endpoint_fr_ext2_isok" inverse="true"/>
                <reference type="test" id="tst_endpoint_fr_ext2_istimeout" inverse="true"/>
              </expr>
            </requirement>
          </message>
          <message id="msg_fr_ext2_time_out" severity="error" datatype="text" storable="true">
            <body><value type="value">Reseteo a fabrica en curso</value></body>
            <requirement>
              <expr type="and">
                <reference type="test" id="tst_endpoint_fr_ext2_isok" inverse="true"/>
                <reference type="test" id="tst_endpoint_fr_ext2_istimeout"/>
              </expr>
            </requirement>
          </message>
        </messages>
        <result>
          <expr type="or">
            <expr type="and">      
              <reference type="test" id="tst_endpoint_fr_ext2_isok"/>
            </expr>
            <expr type="and">
              <reference type="test" id="tst_endpoint_fr_ext2_isok" inverse="true"/>
              <reference type="test" id="tst_endpoint_fr_ext2_istimeout"/>
            </expr>
          </expr>
        </result>
      </action>

        <action id="act_rcpe_ext2" type="button">
        <texts>
          <text type="detail">Reconfigurar el Extensor 2 del cliente</text>
          <!--<text type="warning">Va a Reconfigurar el CPE del cliente. ¿Desea continuar?</text>-->
          <text type="error">No se ha podido Reconfigurar el Extensor 2 del cliente</text>
        </texts>
        <sequence>
          <step type="infosource" infosource="ext2" endpointid="Reconfigurar_CPE_ext2">
          </step>
        </sequence>
        <messages>
          <message id="msg_rcpe_ext2_ok" severity="info" datatype="text" storable="true">
            <body><value type="value">Proceso de reconfiguración de Extensor 2 ejecutándose</value></body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_rcpe_ext2_isok"/>
              </expr>
            </requirement>
          </message>
          <message id="msg_rcpe_ext2_ko" severity="error" datatype="text" storable="true">
            <body><value type="value">No hemos podido recuperar resultados de la llamada de reconfiguración del Extensor 2. Validar por metodo alternativo</value></body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_rcpe_ext2_isok" inverse="true"/>
              </expr>
            </requirement>
          </message>
        </messages>
        <result>
          <expr type="and">
            <reference type="test" id="tst_endpoint_rcpe_ext2_isok"/>
          </expr>
        </result>
      </action>

        <action id="act_reboot_ext2" type="button">
        <texts>
          <text type="detail">Rebotar Extensor 2 del cliente</text>
          <text type="warning">Va a rebotar el Extensor 2 del cliente. ¿Desea continuar?</text>
          <text type="error">No se ha podido rebotear Extensor 2 del cliente</text>
        </texts>
          <sequence>
          <step type="infosource" infosource="ext2" endpointid="reboot_ext2">         
            </step>
          </sequence>
        <messages>
          <message id="msg_reboot_ext2_ok" severity="info" datatype="text" storable="true">
            <body>
              <value type="value">Extensor 2 rebotado</value>
            </body>           
            <requirement>
              <expr type="and">
                <reference type="test" id="tst_endpoint_reboot_ext2_isok"/>
              </expr>
            </requirement>
          </message>
          <message id="msg_reboot_ext2_pend" severity="error" datatype="text" storable="true">
            <body>
              <value type="value">Reinicio en curso</value>
            </body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_reboot_ext2_isok" inverse="true"/>
                <reference type="test" id="tst_endpoint_reboot_ext2_istimeout"/>
              </expr>
            </requirement>
          </message>
          <message id="msg_reboot_ext2_ko" severity="error" datatype="text" storable="true">
            <body>
              <value type="value">Fallo de la llamada de reboot. Validar por metodo alternativo</value>
            </body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_reboot_ext2_isok" inverse="true"/>
                <reference type="test" id="tst_endpoint_reboot_ext2_istimeout" inverse="true"/>
              </expr>
            </requirement>
          </message>
        </messages>
        <result>
          <expr type="or">
            <expr type="and">
              <reference type="test" id="tst_endpoint_reboot_ext2_isok"/>
            </expr>
            <expr type="and">      
              <reference type="test" id="tst_endpoint_reboot_ext2_isok" inverse="true"/>
              <reference type="test" id="tst_endpoint_reboot_ext2_istimeout"/>
            </expr>
          </expr>
        </result>
      </action>
     
        <action id="act_fu_ext2" type="button">
        <texts>
          <text type="detail">Actualización del Firmware del Extensor 2</text>
          <!--<text type="warning">Va a actualizar el Firmware del router. ¿Desea continuar?</text>-->
          <text type="error">No se ha podido actualizar el Firmware del Extensor 2</text>
        </texts>
        <inputs>
            <input id="firmware_update" type="list">
                <text>
                  <value type="value">Firmware Disponible</value>
                </text>
                <valuelistoptions>
                  <value type="parameter">par_of_ext2_tabla_name</value>
                </valuelistoptions>
            </input>
        </inputs>
        <sequence>
          <step type="infosource" infosource="ext2" endpointid="firmware_update_ext2">
          <args>
            <arg argid="arg_productclass">
              <value type="parameter">par_od_ext2_resource_productclass</value>
            </arg>
            <arg argid="arg_protocol">
              <value type="parameter">par_od_ext2_rrc_protocol</value>
            </arg>
            <arg argid="arg_serialnumber">
              <value type="parameter">par_od_ext2_resource_serialnumber</value>
            </arg>
            <arg argid="arg_firmwareimagename">
              <value type="input">firmware_update</value>
            </arg>
          </args>
          </step>
        </sequence>
        <messages>
          <message id="msg_fu_ext2_ok" severity="info" datatype="text" storable="true">
            <body><value type="value">Actualizacion Firmware - En Curso</value></body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_fu_ext2_isok"/>
              </expr>
          </requirement>
          </message>
          <message id="msg_fu_ext2_ko" severity="error" datatype="text" storable="true">
            <body><value type="value">No se pudo actualizar el firmware del Extensor 2</value></body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_fu_ext2_isok" inverse="true"/>
                <reference type="test" id="tst_endpoint_fu_ext2_istimeout" inverse="true"/>
              </expr>
            </requirement>
          </message>
          <message id="msg_fu_ext2_timeout" severity="error" datatype="text" storable="true">
            <body><value type="value">FW upgrade en curso. Este proceso suele tardar entre 2 y 5 min. Pasado ese tiempo asegúrate de que el CPE ha levantado correctamente con el FW actualizado y que se ha restablecido el servicio</value></body>
            <requirement>
              <expr type="and">      
                <reference type="test" id="tst_endpoint_fu_ext2_isok" inverse="true"/>
                <reference type="test" id="tst_endpoint_fu_ext2_istimeout"/>
              </expr>
            </requirement>
          </message>
        </messages>
        <result>
          <expr type="or">
            <reference type="test" id="tst_endpoint_fu_ext2_isok"/>
            <expr type="and">
              <reference type="test" id="tst_endpoint_fu_ext2_isok" inverse="true"/>
              <reference type="test" id="tst_endpoint_fu_ext2_istimeout"/>
            </expr>
          </expr>
        </result>
      </action>
    </actions>
    <configuration>
    </configuration>
</template>